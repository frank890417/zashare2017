{"version":3,"sources":["webpack:///static/js/app.01cb81c362fc3cef7b80.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///Hello.vue","webpack:///./src/main.js","webpack:///./src/pacman.js","webpack:///./src/components/Hello.vue?2a6f","webpack:///./src/App.vue?a876","webpack:///./src/components/Hello.vue?d832"],"names":["webpackJsonp","40","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Hello__","__WEBPACK_IMPORTED_MODULE_2__components_Hello___default","n","use","routes","path","name","component","a","41","exports","injectStyle","ssrContext","Component","42","Object","defineProperty","value","43","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_1__pacman_js__","__WEBPACK_IMPORTED_MODULE_2_gsap__","__WEBPACK_IMPORTED_MODULE_3_jquery__","__WEBPACK_IMPORTED_MODULE_3_jquery___default","window","PACMAN","data","globalTime","pacMode","gameScene","dialogContent","dialogQuery","dialogAvatar","dialogState","graveTime","canPress","lastKeycode","gameScore","pressRecords","gameInited","paclives","deadtime","mounted","_this2","this","setScore","dialogCallback","toSceneDead","setlives","eatenPill","userCompleteLevel","press","from","opacity","scale","bottom","delay","repeat","to","top","_this","setInterval","keydown","event","console","log","which","setTimeout","computed","pacimg","methods","startGame","left","push","init","document","getElementById","startLevel","closeDialog","startNewGame","popDialog","goGrave","avatar","content","_this3","rotation","walkDownGrave","_this4","scaleX","changeScene","setTimeOut","walkBackGrave","walkDownDoor","location","goSecret","_this5","relife","key","dailogAction","kmap","up","down","right","sendkey","length","shift","join","next","scene","sc","l","text","_this6","pauseGame","resumeGame","setState","obj","callback","arguments","undefined","deadtext","44","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3_gsap__","config","productionTip","el","router","template","components","App","45","_KEY","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","NONE","UP","LEFT","DOWN","RIGHT","WAITING","PAUSE","PLAYING","COUNTDOWN","EATEN_PAUSE","DYING","Pacman","colorOrange","colorBlue","FPS","Ghost","game","map","colour","getNewCoord","dir","current","speed","isVunerable","isHidden","xSpeed","ySpeed","x","addBounded","y","x1","x2","rem","result","eatable","isDangerous","eaten","getRandomDirection","direction","Math","floor","random","reset","position","due","onWholeSquare","oppositeDirection","makeEatable","getTick","eat","pointToCoord","round","nextSquare","onGridSquare","pos","secondsAgo","tick","getColour","draw","ctx","s","blockSize","tl","base","inc","high","low","fillStyle","beginPath","moveTo","quadraticCurveTo","closePath","fill","arc","f","off","pane","move","oldPos","onGrid","npos","isFloorSpace","isWallSpace","tmp","new","old","User","addScore","nScore","score","lives","theScore","loseLife","getLives","initUser","newLevel","resetPosition","setDue","d","keyDown","e","keyMap","keyCode","preventDefault","stopPropagation","isOnSamePlane","nextWhole","oldPosition","block","isMidSquare","BISCUIT","PILL","setBlock","EMPTY","completedLevel","calcAngle","start","end","drawDead","amount","size","half","PI","angle","KEY","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","Map","withinBounds","height","width","isWall","WALL","peice","drawWall","i","j","p","line","strokeStyle","lineWidth","lineCap","WALLS","lineTo","curve","stroke","JSON","parse","MAP","type","drawPills","fillRect","font","textAlign","textBaseline","fillText","drawBlock","layout","BLOCK","Audio","load","cb","files","createElement","progressEvents","progress","addEventListener","setAttribute","pause","loaded","total","removeEventListener","disableSound","playing","currentTime","ended","found","endEvents","play","soundDisabled","resume","drawScore","dialog","measureText","localStorage","user","ghosts","audio","timerStart","level","stored","state","N","S","P","nState","stateChanged","collided","ghost","sqrt","pow","drawFooter","redrawBlock","ceil","mainDraw","u","len","ghostPos","userPos","eatenCount","mainLoop","diff","lastTime","keyPress","wrapper","root","innerHTML","offsetWidth","canvas","ww","innerWidth","wh","innerHeight","oriheight","oriwidth","ratio","ratio2","useRatio","appendChild","getContext","ghostSpecs","extension","Modernizr","ogg","arr","pop","timer","k","BACKSPACE","TAB","NUM_PAD_CLEAR","ENTER","SHIFT","CTRL","ALT","CAPS_LOCK","ESCAPE","SPACEBAR","PAGE_UP","PAGE_DOWN","END","HOME","PRINT_SCREEN","INSERT","DELETE","SEMICOLON","WINDOWS_LEFT","WINDOWS_RIGHT","SELECT","NUM_PAD_ASTERISK","NUM_PAD_PLUS_SIGN","NUM_PAD_HYPHEN-MINUS","NUM_PAD_FULL_STOP","NUM_PAD_SOLIDUS","NUM_LOCK","SCROLL_LOCK","String","fromCharCode","84","85","87","88","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","src","staticRenderFns","89","on","click","$event","domProps","_s","_e","tag","_v","staticStyle","transform","_l"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACqB,IAAIC,GAAoCD,EAAoB,IACxDE,EAA2CF,EAAoB,IAC/DG,EAAkDH,EAAoB,IACtEI,EAA0DJ,EAAoBK,EAAEF,ECLzGF,GAAA,EAAIK,IAAIJ,EAAA,GAERH,EAAA,KAAmBG,GAAA,GACjBK,SAEIC,KAAM,IACNC,KAAM,QACNC,UAAWN,EAAAO,ODeXC,GACA,SAAUd,EAAQe,EAASb,GE3BjC,QAAAc,GAAAC,GACAf,EAAA,IAEA,GAAAgB,GAAAhB,EAAA,IAEAA,EAAA,IAEAA,EAAA,IAEAc,EAEA,KAEA,KAGAhB,GAAAe,QAAAG,EAAAH,SFkCMI,GACA,SAAUnB,EAAQC,EAAqBC,GAE7C,YACAkB,QAAOC,eAAepB,EAAqB,cAAgBqB,OAAO,IG9ClErB,EAAA,SHwDEU,KGtDF,QH2DMY,GACA,SAAUvB,EAAQC,EAAqBC,GAE7C,YACAkB,QAAOC,eAAepB,EAAqB,cAAgBqB,OAAO,GAC7C,IAAIE,GAA6DtB,EAAoB,IACjFuB,EAAqEvB,EAAoBK,EAAEiB,GAC3FE,EAA2CxB,EAAoB,IAC/DyB,EAAqCzB,EAAoB,IAEzD0B,GAD6C1B,EAAoBK,EAAEoB,GAC5BzB,EAAoB,KAC3D2B,EAA+C3B,EAAoBK,EAAEqB,EImE9FE,QAAAC,OAAAL,EAAA,EAEAzB,EAAA,SJmFEU,KIjFF,QJkFEqB,KAAM,WACJ,OACEC,WIjFN,EJkFMC,QIjFN,SJkFMC,UIjFN,QJkFMC,cIjFN,GJkFMC,eACAC,aIjFN,+BJkFMC,aIjFN,EJkFMC,UIjFN,EJkFMC,UIjFN,EJkFMC,aIjFN,EJkFMC,UIjFN,EJkFMC,gBACAC,YIjFN,EJkFMC,SIjFN,EJkFMC,SIhFN,IJmFEC,QAAS,WIjFX,GAAAC,GAAAC,IJoFIpB,QAAOqB,SAAWD,KInFtBC,SJoFIrB,OAAOsB,eAAiBF,KInF5BE,eJoFItB,OAAOuB,YAAcH,KInFzBG,YJoFIvB,OAAOwB,SAAWJ,KInFtBI,SJoFIxB,OAAOyB,UAAYL,KInFvBK,UJoFIzB,OAAO0B,kBAAoBN,KInF/BM,kBJoFI1B,OAAO2B,MAAQP,KIlFnBO,MJoFIP,KInFJjB,aJoFIN,EAA6C,SAAE+B,KAAK,SAAU,GAAKC,QAAS,EAAGC,MAAO,EAAGC,OAAQ,UAAWC,MInFhH,GJoFInC,EAA6C,SAAE+B,KAAK,SAAU,GAAKC,QAAS,EAAGE,OAAQ,UAAWC,MInFtG,KJoFInC,EAA6C,SAAE+B,KAAK,UAAW,GAAKC,QAAS,EAAGE,OAAQ,UAAWC,MInFvG,GJoFInC,EAA6C,SAAE+B,KAAK,SAAU,GAAKC,QAAS,EAAGE,OAAQ,UAAWC,MInFtG,GJoFInC,EAA6C,SAAE+B,KAAK,UAAW,GAAKC,QAAS,EAAGI,QAAS,IAAKD,MAAM,GInFxGC,SJoFIpC,EAA6C,SAAE+B,KAAK,UAAW,GAAKC,QAAS,IAAKG,MInFtF,GJoFInC,EAA6C,SAAEqC,GAAG,UAAW,GAAKC,IAAK,MAAOL,MAAO,QAASE,MIlFlG,EJoFI,IAAII,GInFRhB,IJoFIiB,aAAY,WACVD,EInFNjC,cAEA,KJoFIJ,IAA+C,QAAQuC,QAAQ,SAAUC,GACvEC,QAAQC,IAAIF,EInFlBG,MJoFM,IInFNN,GAAAjB,CJqFM,IAAIiB,EAAMzB,UAAYyB,EAAMxB,aAAe2B,EAAMG,MInFvD,CJoFQ,OAAQH,EInFhBG,OJoFU,IInFV,IJoFYN,EAAMT,MInFlB,KACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,OACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,OACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,QACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,IACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,IACA,MJoFU,KInFV,IJoFYS,EAAMT,MInFlB,SJsFQS,EAAMzB,UInFd,EJoFQyB,EAAMxB,YAAc2B,EInF5BG,MJoFQC,WAAW,WACTP,EAAMzB,UInFhB,GACA,SJwFEiC,UACEC,OAAQ,WACN,MAAoB,UAAhBzB,KAAKhB,QACA,yBAA2BgB,KAAKjB,WAAa,EInF5D,UAEA,iCJsFE2C,SACEC,UAAW,WACT,GAAIX,GInFVhB,IJoFMA,MAAKhB,QInFX,SJoFMP,EAA6C,SAAEqC,GAAG,UAAW,GAAKc,KInFxE,WJoFMnD,EAA6C,SAAEqC,GAAG,UAAW,GAAKL,QAAS,IAAKG,MIlFtF,GJoFMW,WAAW,WACTP,EAAM/B,UInFd,OJoFQ+B,EAAM5B,aInFd,+BAAA4B,EAAA7B,YAAA0C,KACA,qBACA,0CACA,8BAEA,kBJ+EQb,EAAM7B,YAAY0C,KAAK,WACrBrD,EAA0D,EAAEsD,KAAKC,SAASC,eAAe,UI7EnG,WJ+EchB,EAAMrB,YAER4B,WAAW,WACT/C,EAA0D,EI9ExEyD,aJ+Ecb,QAAQC,II9EtB,gBACA,KJ+EYL,EI9EZkB,gBJgFYlB,EAAMrB,YI9ElB,EJ+EY4B,WAAW,WACT/C,EAA0D,EI9ExE2D,eJ+Ecf,QAAQC,II9EtB,eACA,KJ+EYL,EI7EZkB,iBJgFQlB,EI5ERoB,aACA,MJ8EIC,QAAS,WAEP,GAAsB,GAAlBrC,KAAKV,UACPU,KAAKb,YAAY0C,MACfS,OI5EV,gCJ6EUC,QI3EV,6CJ6EQvC,KI5ERoC,gBJ6Ea,IAAsB,GAAlBpC,KAAKV,UI5EtB,CJ8EQU,KAAKb,YAAY0C,MACfS,OI5EV,+BJ6EUC,QI3EV,iBJ6EQvC,KI5ERoC,gBJ6Ea,IAAsB,GAAlBpC,KAAKV,UI5EtB,CJ6EQ,GAAIkD,GI3EZxC,IJ6EQA,MAAKb,YAAY0C,MACfS,OI5EV,+BJ6EUC,QI5EV,qBAFA,WJgFUC,EAAOxD,QI5EjB,SJ6EUP,EAA6C,SAAEqC,GAAG,UAAW,IAAO2B,SI5E9E,WJ6EUhE,EAA6C,SAAEqC,GAAG,UAAW,GAAKH,OAAQ,WAAYC,MI5EhG,GJ6EU4B,EI5EVN,cJ6EUX,WAAW,WACTiB,EAAOvD,UI5EnB,QJ6EYuD,EAAOrD,YAAY0C,KI5E/B,oEJ6EYW,EAAOrD,YAAY0C,KI5E/B,yBJ6EYW,EAAOlD,UI5EnB,EJ6EYkD,EI5EZJ,aACA,OJ8EQpC,KIzERoC,YJ2EMpC,KIvENV,aJyEIoD,cAAe,WItEnB,GAAAC,GAAA3C,KJyEUgB,EIxEVhB,IJyE4B,IAAlBA,KAAKV,WACP0B,EAAM7B,YAAY0C,KIxE1B,gBJyEQb,EAAM7B,YAAY0C,KAAK,WACrBpD,EAA6C,SAAEqC,GAAG,UAAW,GAAK8B,OIxE5E,IJyEUnE,EAA6C,SAAEqC,GAAG,UAAW,GAAKc,KAAM,WAAYhB,MIxE9F,GJyEUnC,EAA6C,SAAEqC,GAAG,UAAW,GAAK8B,QAAS,IAAKhC,MIxE1F,GJyEUnC,EAA6C,SAAEqC,GAAG,UAAW,GAAKc,KAAM,UAAWhB,MIxE7F,GJyEUnC,EAA6C,SAAEqC,GAAG,UAAW,GAAK8B,OAAQ,IAAKhC,MIxEzF,GJyEUnC,EAA6C,SAAEqC,GAAG,UAAW,GAAKc,KAAM,QAAShB,MIxE3F,KJ0EQI,EIxERoB,cJ0EQpB,EAAM7B,YAAY0C,KIxE1B,kBJyEQb,EAAM7B,YAAY0C,KAAK,WACrBb,EAAMhC,QIxEhB,SJyEUP,EAA6C,SAAEqC,GAAG,UAAW,IAAO2B,SIxE9E,WJyEUhE,EAA6C,SAAEqC,GAAG,UAAW,GAAKC,IAAK,SAAUH,MIxE3F,GJyEUI,EAAM6B,YAAY,OIxE5B,GJyEU7B,EIxEVkB,cJyEUY,WAAW,WACT9B,EAAM7B,YAAY0C,MAChBS,OIxEd,wBJyEcC,QIvEd,wBJyEYvB,EIxEZoB,YJyEYO,EAAOrD,UIxEnB,GAEA,OJyEQ0B,EIvERoB,aJyEMpC,KIvENV,aJyEIyD,cAAe,WACb,GAAI/B,GItEVhB,IJuEMgB,GAAM7B,YAAY0C,KIrExB,uBJuEMb,EAAM7B,YAAY0C,KAAK,WACrBb,EAAMhC,QItEd,SJuEQP,EAA6C,SAAEqC,GAAG,UAAW,IAAO2B,SItE5E,UJuEQhE,EAA6C,SAAEqC,GAAG,UAAW,GAAKC,IAAK,WAAYH,MItE3F,GJuEQI,EAAM6B,YAAY,QItE1B,GJuEQ7B,EItERkB,cJuEQY,WAAW,WACT9B,EAAM7B,YAAY0C,MAChBS,OItEZ,yBJuEYC,QIrEZ,oBJuEUvB,EItEVoB,aAEA,OJuEMpB,EIrENoB,aJuEIY,aAAc,WACZ,GAAIhC,GIpEVhB,IJqEMgB,GAAM7B,YAAY0C,KInExB,kBJqEMb,EAAM7B,YAAY0C,KAAK,WACrBb,EAAMhC,QIpEd,SJqEQP,EAA6C,SAAEqC,GAAG,UAAW,GAAKC,IIpE1E,SJqEQtC,EAA6C,SAAEqC,GAAG,QAAS,GAAKL,QAAS,IAAKG,MIpEtF,GJqEQnC,EAA6C,SAAEqC,GAAG,WAAY,GAAKL,QAAS,IAAKG,MInEzF,GJqEQnC,EAA6C,SAAEqC,GAAG,aAAc,GAAKL,QAAS,IAAKG,MIpE3F,GJsEQI,EInERkB,cJqEQX,WAAW,WACT3C,OAAOqE,SIpEjB,8BACA,OJsEMjC,EIpENoB,aJsEIc,SAAU,WInEd,GAAAC,GAAAnD,KJsEUgB,EIrEVhB,IJsEMgB,GAAM7B,eACN6B,EAAM7B,YAAY0C,KIrExB,qDJsEMb,EAAM7B,YAAY0C,KAAK,WACrBb,EAAMhC,QIrEd,SJwEQgC,EAAM6B,YAAY,OIrE1B,GJsEQC,WAAW,WACT9B,EAAM7B,YAAY0C,MAChBS,OIrEZ,wBJsEYC,QIpEZ,wBJsEUvB,EIrEVoB,YJsEUe,EAAO7D,UIrEjB,GAEA,OJsEM0B,EIpENoB,aJsEIgB,OAAQ,WACN,GAAIpC,GIpEVhB,IJqEMgB,GAAM7B,YAAY0C,KInExB,8BJqEMb,EAAM7B,YAAY0C,KAAK,WACrBb,EAAMhC,QInEd,SJqEQgC,EAAM6B,YAAY,QIpE1B,GJqEQ7B,EInERkB,cJqEQzD,EAA6C,SAAEqC,GAAG,cAAe,GAAKc,KAAM,SAAUnB,QIpE9F,IJqEQhC,EAA6C,SAAEqC,GAAG,KAAM,GAAKL,QAAS,IAAKG,MIpEnF,GJqEQnC,EAA6C,SAAEqC,GAAG,KAAM,GAAKL,QAAS,IAAKG,MInEnF,OJqEMI,EInENoB,aJqEI7B,MAAO,SAAe8C,GA2BpB,GA1BsB,SAAlBrD,KAAKf,WAAgC,QAAPoE,GAAwB,KAAPA,GACjDrD,KInER2B,YJqE4B,SAAlB3B,KAAKf,WAA+B,QAAPoE,GAC/BrD,KInERqC,WJqEUrC,KAAKX,aAAuB,SAAPgE,GAAyB,KAAPA,GAAqB,SAAPA,GACvDrD,KInERsD,eJqE4B,SAAlBtD,KAAKf,WAAyBe,KAAKX,aAAsB,QAAPgE,GACpDrD,KInER0C,gBJqE4B,SAAlB1C,KAAKf,WAAyBe,KAAKX,aAAsB,MAAPgE,GACpDrD,KInER+C,gBJqE4B,QAAlB/C,KAAKf,WAAwBe,KAAKX,aAAsB,QAAPgE,GACnDrD,KInERgD,eJqE4B,QAAlBhD,KAAKf,WAAwBe,KAAKX,aAAuB,QAAPgE,GAAwB,KAAPA,GACrErD,KInERoD,SJsE4B,QAAlBpD,KAAKf,WAAwBe,KAAKX,aAAsB,KAAPgE,GAEnDrD,KAAK6C,YInEb,SJqE4B,QAAlB7C,KAAKf,YAAwBe,KAAKX,YInE5C,CJoEQ,GAAIkE,IACFC,GInEV,EJoEUC,KInEV,EJoEU7B,KInEV,EJoEU8B,MIlEV,GJoEQlF,GAA0D,EAAEmF,QAAQJ,EInE5EF,IJsEMrD,KAAKN,aAAamC,KInExBwB,GJoEUrD,KAAKN,aAAakE,OAAS,IAC7B5D,KAAKN,aInEbmE,QJqEU7D,KAAKN,aAAaoE,KAAK,OAAS,KAAM,KAAM,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,IAAK,IAAK,IAAK,KAAKA,KAAK,MACzH9D,KInERkD,WJqEM9B,QAAQC,IAAIrB,KInElBN,eJqEI4D,aAAc,WACZ,GAAItD,KAAKb,YAAYyE,OAAS,EInEpC,CJoEQ,GAAIG,GAAO/D,KAAKb,YIlExB0E,OJoE2B,iBAARE,GACT/D,KAAKd,cInEf6E,EJoE+I,eAA3G,KAATA,EAAuB,YAAcxF,IAAqEwF,KAC3H/D,KAAKd,cAAgB6E,EInE/BxB,QJoEUvC,KAAKZ,aAAe2E,EIlE9BzB,QJmEkC,kBAARyB,IIjE1BA,QJqEQ/D,MAAKX,aIjEb,GJoEI+C,UAAW,WACTpC,KIjENsD,eJkEMtD,KAAKX,aIhEX,GJkEI6C,YAAa,WACXlC,KAAKX,aIhEX,GJkEIwD,YAAa,SAAqBmB,EAAOpD,GACvC,GAAII,GIhEVhB,IJiEMuB,YAAW,WACTP,EAAM/B,UIhEd+E,GAEA,IJ+DSpD,IAELX,SAAU,SAAkBgE,GAC1BjE,KAAKP,UI/DXwE,GJiEI7D,SAAU,SAAkB8D,GAC1BlE,KAAKJ,SI/DXsE,GJiEI7D,UAAW,SAAmB8D,GI/DlC,GAAAC,GAAApE,IJkEMxB,GAA0D,EIjEhE6F,YJkEMrE,KAAKb,YAAY0C,MACfS,OIjER,gCJkEQC,QIhER4B,IJkEMnE,KAAKb,YAAY0C,KAAK,WACpBuC,EIjERlC,cJkEQ1D,EAA0D,EIhElE8F,YJmEQ9F,GAA0D,EAAE+F,SIlEpE,KJoEMvE,KI/DNoC,aJiEIlC,eAAgB,SAAwBsE,GI/D5C,GAAAC,GAAAC,UAAAd,OAAA,OAAAe,KAAAD,UAAA,GAAAA,UAAA,OJkEM1E,MAAKb,YAAY0C,KIjEvB2C,GJkEUC,GACFzE,KAAKb,YAAY0C,KAAK,WIhE9B4C,MJoEMzE,KIhENoC,aJkEIjC,YAAa,SAAqByE,GAChC,GAAI5D,GIhEVhB,IJiEMgB,GI/DNnB,WJoE4B,GAAlBmB,EAAMnB,UACRmB,EAAM7B,YAAY0C,MAChBS,OIhEV,+BJiEUC,QI/DV,gCJiEQvB,EAAM7B,YAAY0C,MAChBS,OIhEV,+BJiEUC,QI/DV,qBJiEQvB,EAAM7B,YAAY0C,MAChBS,OIhEV,+BJiEUC,QI9DVqC,IJiEQ5D,EAAM7B,YAAY0C,KAAK,WAErBb,EAAM6B,YAAY,OIhE5B,GJiEUtB,WAAW,WACT9C,EAA6C,SAAE+B,KAAK,cAAe,GAAKC,QAAS,EAAGI,QAAS,IAAKD,MAAM,GIhEpHC,UACA,KJiEUG,EI/DVkB,gBJiEQlB,EI/DRoB,aJgEiBpB,EAAMnB,UAAY,IAC3BmB,EAAM7B,YAAY0C,MAChBS,OI/DV,+BJgEUC,QI9DV,6BJgEQvB,EAAM7B,YAAY0C,MAChBS,OI/DV,+BJgEUC,QI9DV,uCJgEQvB,EAAM7B,YAAY0C,MAChBS,OI/DV,+BJgEUC,QI9DV,2BJgEQvB,EI9DRoB,YJgEQpB,EAAM7B,YAAY0C,KAAK,WAErBb,EAAM6B,YAAY,QI9D5B,MJgEQ7B,EAAM7B,YAAY0C,MAChBS,OI9DV,+BJ+DUC,QI7DV,iCJ+DQvB,EAAM7B,YAAY0C,MAChBS,OI9DV,+BJ+DUC,QI3DV,kBJ+DIjC,kBAAmB,WACjB,GAAIU,GIxDVhB,IJyDMgB,GAAM7B,YAAY0C,MAChBS,OIxDR,+BJyDQC,QIvDR,2CJyDMvB,EAAM7B,YAAY0C,MAChBS,OIxDR,+BJyDQC,QIvDR,4DJyDMvB,EAAM7B,YAAY0C,MAChBS,OIxDR,+BJyDQC,QIpDR,oJJuDMvB,EIrDNoB,gBJ4DMyC,GACA,SAAU/H,EAAQC,EAAqBC,GAE7C,YACAkB,QAAOC,eAAepB,EAAqB,cAAgBqB,OAAO,GAC7C,IAAInB,GAAoCD,EAAoB,IACxD8H,EAAqC9H,EAAoB,IACzD+H,EAA6C/H,EAAoBK,EAAEyH,GACnEE,EAAwChI,EAAoB,IKhsBrFiI,EAAAjI,EAAA,GAAAA,GAAAK,EAAA4H,EAWAhI,GAAA,EAAIiI,OAAOC,eAAgB,EAG3B,GAAIlI,GAAA,GACFmI,GAAI,OACJC,OAAAL,EAAA,EACAM,SAAU,SACVC,YAAcC,IAAAT,EAAApH,MLwsBV8H,GACA,SAAU3I,EAAQC,EAAqBC,GAE7C,YACqB,IAOjB0I,GAPqBC,EAAqE3I,EAAoB,IACzF4I,EAA6E5I,EAAoBK,EAAEsI,GACnGE,EAAqE7I,EAAoB,IACzF8I,EAA6E9I,EAAoBK,EAAEwI,GM9tBxHE,EAAO,EACPC,EAAK,EACLC,EAAO,EACPC,EAAO,EACPC,EAAQ,GACRC,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAY,EACZC,EAAc,EACdC,EAAQ,GACRC,KAGAC,EAAc,UACdC,EAAY,SAQhBF,GAAOG,IAAM,GAEbH,EAAOI,MAAQ,SAAUC,EAAMC,EAAKC,GAQhC,QAASC,GAAYC,EAAKC,GAEtB,GAAIC,GAAQC,IAAgB,EAAIC,IAAa,EAAI,EAC7CC,EAAUL,IAAQlB,IAASoB,GAASF,IAAQhB,GAASkB,GAAS,EAC9DI,EAAUN,IAAQjB,GAAQmB,GAASF,IAAQnB,IAAOqB,GAAS,CAE/D,QACIK,EAAKC,EAAWP,EAAQM,EAAGF,GAC3BI,EAAKD,EAAWP,EAAQQ,EAAGH,IAOnC,QAASE,GAAWE,EAAIC,GACpB,GAAIC,GAAMF,EAAK,GACXG,EAASD,EAAMD,CACnB,OAAY,KAARC,GAAaC,EAAS,GACfH,GAAM,GAAKE,GACXA,EAAM,GAAKC,EAAS,EACpBH,EAAKE,EAETF,EAAKC,EAGhB,QAASR,KACL,MAAmB,QAAZW,EAGX,QAASC,KACL,MAAiB,QAAVC,EAGX,QAASZ,KACL,MAAmB,QAAZU,GAA8B,OAAVE,EAG/B,QAASC,KAGL,OAFaC,IAAcpC,GAAQoC,IAAclC,GAC1CH,EAAIE,IAASD,EAAME,IACbmC,KAAKC,MAAsB,EAAhBD,KAAKE,WAGjC,QAASC,KACLN,EAAQ,KACRF,EAAU,KACVS,GAAahB,EAAK,GAAIE,EAAK,IAC3BS,EAAYD,IACZO,EAAMP,IAGV,QAASQ,GAAclB,GACnB,MAAOA,GAAI,IAAO,EAGtB,QAASmB,GAAkB1B,GACvB,MAAOA,KAAQlB,GAAQE,GACnBgB,IAAQhB,GAASF,GACjBkB,IAAQnB,GAAME,GAAQF,EAG9B,QAAS8C,KACLT,EAAYQ,EAAkBR,GAC9BJ,EAAUlB,EAAKgC,UAGnB,QAASC,KACLf,EAAU,KACVE,EAAQpB,EAAKgC,UAGjB,QAASE,GAAavB,GAClB,MAAOY,MAAKY,MAAMxB,EAAI,IAG1B,QAASyB,GAAWzB,EAAGP,GACnB,GAAIY,GAAML,EAAI,EACd,OAAY,KAARK,EACOL,EACAP,IAAQhB,GAASgB,IAAQjB,EACzBwB,GAAK,GAAKK,GAEVL,EAAIK,EAInB,QAASqB,GAAaC,GAClB,MAAOT,GAAcS,EAAIzB,IAAMgB,EAAcS,EAAI3B,GAGrD,QAAS4B,GAAWC,GAChB,OAAQxC,EAAKgC,UAAYQ,GAAQ7C,EAAOG,IAG5C,QAAS2C,KACL,MAAIvB,GACIqB,EAAWrB,GAAW,GACflB,EAAKgC,UAAY,GAAK,GAAK,UAE3BpC,EAEJwB,EACA,OAEJlB,EAGX,QAASwC,GAAKC,GAEV,GAAIC,GAAI3C,EAAI4C,UACR7I,EAAO2H,EAASd,EAAI,GAAM+B,EAC1B/H,EAAQ8G,EAAShB,EAAI,GAAMiC,CAE3B1B,IAAWqB,EAAWrB,GAAW,IACjCA,EAAU,MAGVE,GAASmB,EAAWnB,GAAS,IAC7BA,EAAQ,KAGZ,IAAI0B,GAAKjI,EAAO+H,EACZG,EAAO/I,EAAM4I,EAAI,EACjBI,EAAMJ,EAAI,GAEVK,EAAOjD,EAAKgC,UAAY,GAAK,EAAI,GAAK,EACtCkB,EAAMlD,EAAKgC,UAAY,GAAK,GAAK,EAAI,CAEzCW,GAAIQ,UAAYV,IAChBE,EAAIS,YAEJT,EAAIU,OAAOxI,EAAMkI,GAEjBJ,EAAIW,iBAAiBzI,EAAMb,EAAKa,EAAQ+H,EAAI,EAAI5I,GAChD2I,EAAIW,iBAAiBzI,EAAO+H,EAAG5I,EAAKa,EAAO+H,EAAGG,GAG9CJ,EAAIW,iBAAiBR,EAAY,EAANE,EAAUD,EAAOE,EAAMH,EAAY,EAANE,EAAUD,GAClEJ,EAAIW,iBAAiBR,EAAY,EAANE,EAAUD,EAAOG,EAAKJ,EAAY,EAANE,EAAUD,GACjEJ,EAAIW,iBAAiBR,EAAY,EAANE,EAAUD,EAAOE,EAAMH,EAAY,EAANE,EAAUD,GAClEJ,EAAIW,iBAAiBR,EAAY,EAANE,EAAUD,EAAOG,EAAKJ,EAAY,EAANE,EAAUD,GACjEJ,EAAIW,iBAAiBR,EAAY,EAANE,EAAUD,EAAOE,EAAMH,EAAY,GAANE,EAAWD,GAEnEJ,EAAIY,YACJZ,EAAIa,OAEJb,EAAIS,YACJT,EAAIQ,UAAY,OAEhBR,EAAIc,IAAI5I,EAAO+H,EAAI,IAAK5I,EAAM4I,EAAI,EAAGA,EAAI,EAAG,EAAG,KAAK,GAEpDD,EAAIc,IAAK5I,EAAO+H,EAAKA,EAAI,IAAK5I,EAAM4I,EAAI,EAAGA,EAAI,EAAG,EAAG,KAAK,GAC1DD,EAAIY,YACJZ,EAAIa,MAEJ,IAAIE,GAAId,EAAI,GACRe,IACJA,GAAIvE,IAAUsE,EAAG,GACjBC,EAAIzE,KAAUwE,EAAG,GACjBC,EAAI1E,IAAO,GAAIyE,GACfC,EAAIxE,IAAS,EAAGuE,GAEhBf,EAAIS,YACJT,EAAIQ,UAAY,OAChBR,EAAIc,IAAI5I,EAAO+H,EAAI,IAAMe,EAAIrC,GAAW,GAAItH,EAAM4I,EAAI,EAAIe,EAAIrC,GAAW,GACrEsB,EAAI,GAAI,EAAG,KAAK,GACpBD,EAAIc,IAAK5I,EAAO+H,EAAKA,EAAI,IAAMe,EAAIrC,GAAW,GAAItH,EAAM4I,EAAI,EAAIe,EAAIrC,GAAW,GAC3EsB,EAAI,GAAI,EAAG,KAAK,GACpBD,EAAIY,YACJZ,EAAIa,OAIR,QAASI,GAAKtB,GAEV,MAAc,OAAVA,EAAIzB,GAAayB,EAAI3B,GAAK,KAAOW,IAAclC,GACtCyB,EAAK,IAAKF,GAAM,IAGf,MAAV2B,EAAIzB,GAAayB,EAAI3B,IAAM,IAAMW,IAAcpC,IACxCyC,GAAad,EAAK,IAAKF,EAAK,MAM3C,QAASkD,GAAKlB,GAEV,GAAImB,GAASnC,EACToC,EAAS1B,EAAaV,GACtBqC,EAAO,IAqBX,IAnBIpC,IAAQN,IAER0C,EAAO7D,EAAYyB,EAAKD,GAEpBoC,GACA9D,EAAIgE,cACApD,EAAKqB,EAAaE,EAAW4B,EAAKnD,EAAGe,IACrCjB,EAAKuB,EAAaE,EAAW4B,EAAKrD,EAAGiB,MAEzCN,EAAYM,EAEZoC,EAAO,MAIF,OAATA,IACAA,EAAO7D,EAAYmB,EAAWK,IAG9BoC,GACA9D,EAAIiE,aACArD,EAAKqB,EAAaE,EAAW4B,EAAKnD,EAAGS,IACrCX,EAAKuB,EAAaE,EAAW4B,EAAKrD,EAAGW,MAIzC,MADAM,GAAMP,IACCwC,EAAKlB,EAGhBhB,GAAWqC,CAEX,IAAIG,GAAMP,EAAKjC,EAOf,OANIwC,KACAxC,EAAWwC,GAGfvC,EAAMP,KAGF+C,IAAOzC,EACP0C,IAAOP,GA/Of,GAAInC,GAAW,KACXL,EAAY,KACZJ,EAAU,KACVE,EAAQ,KACRQ,EAAM,IA+OV,QACIK,IAAOA,EACP1B,YAAeA,EACfY,YAAeA,EACfY,YAAeA,EACfL,MAASA,EACTmC,KAAQA,EACRnB,KAAQA,IAIhB/C,EAAO2E,KAAO,SAAUtE,EAAMC,GAe1B,QAASsE,GAASC,GACdC,GAASD,EACLC,GAAS,KAASA,EAAQD,EAAS,MACnCE,GAAS,GAIb7M,OAAOqB,SAASuL,GAGpB,QAASE,KACL,MAAOF,GAGX,QAASG,KACLF,GAAS,EAGb,QAASG,KAEL,MADAhN,QAAOwB,SAASqL,GACTA,EAGX,QAASI,KACLL,EAAQ,EACRC,EAAQ,EACRK,IAGJ,QAASA,KACLC,IACA5D,EAAQ,EAGZ,QAAS4D,KACLrD,GAAahB,EAAK,GAAIE,EAAK,KAC3BS,EAAYpC,EACZ0C,EAAM1C,EAGV,QAASwC,KACLoD,IACAE,IAGJ,QAASC,GAAOC,GACZtD,EAAIsD,EAGR,QAASC,GAAQC,GACb,WAAiC,KAAtBC,EAAOD,EAAEE,WAChB1D,EAAMyD,EAAOD,EAAEE,SACfF,EAAEG,iBACFH,EAAEI,mBACK,GAKf,QAASrF,GAAYC,EAAKC,GACtB,OACIM,EAAKN,EAAQM,GAAKP,IAAQlB,IAAS,GAAKkB,IAAQhB,GAAS,GAAK,GAC9DyB,EAAKR,EAAQQ,GAAKT,IAAQjB,GAAQ,GAAKiB,IAAQnB,IAAO,GAAK,IAInE,QAAS4C,GAAclB,GACnB,MAAOA,GAAI,IAAO,EAGtB,QAASuB,GAAavB,GAClB,MAAOY,MAAKY,MAAMxB,EAAI,IAG1B,QAASyB,GAAWzB,EAAGP,GACnB,GAAIY,GAAML,EAAI,EACd,OAAY,KAARK,EACOL,EACAP,IAAQhB,GAASgB,IAAQjB,EACzBwB,GAAK,GAAKK,GAEVL,EAAIK,EAInB,QAAShE,GAAKsF,EAAKlC,GACf,OACIS,EAAKqB,EAAaE,EAAWE,EAAIzB,EAAGT,IACpCO,EAAKuB,EAAaE,EAAWE,EAAI3B,EAAGP,KAI5C,QAASiC,GAAaC,GAClB,MAAOT,GAAcS,EAAIzB,IAAMgB,EAAcS,EAAI3B,GAGrD,QAAS8E,GAAc7D,EAAKxB,GACxB,SAASwB,IAAQ1C,GAAQ0C,IAAQxC,GAC5BgB,IAAQlB,GAAQkB,IAAQhB,KACvBwC,IAAQ3C,GAAM2C,IAAQzC,GACnBiB,IAAQnB,GAAMmB,IAAQjB,IAGnC,QAAS0E,GAAKlB,GAEV,GAAIqB,GAAO,KACP0B,EAAY,KACZC,EAAchE,EACdiE,EAAQ,IAsBZ,OApBIhE,KAAQN,IACR0C,EAAO7D,EAAYyB,EAAKD,GAEpB8D,EAAc7D,EAAKN,IAClBe,EAAaV,IACV1B,EAAIgE,aAAajH,EAAKgH,EAAMpC,IAChCN,EAAYM,EAEZoC,EAAO,MAIF,OAATA,IACAA,EAAO7D,EAAYmB,EAAWK,IAG9BU,EAAaV,IAAa1B,EAAIiE,YAAYlH,EAAKgH,EAAM1C,MACrDA,EAAYtC,GAGZsC,IAActC,GACLoF,IAAOzC,EAAU0C,IAAO1C,IAGtB,MAAXqC,EAAKnD,GAAamD,EAAKrD,GAAK,KAAOW,IAAclC,IACjD4E,GAASnD,EAAK,IAAKF,GAAM,KAGd,MAAXqD,EAAKnD,GAAamD,EAAKrD,IAAM,IAAMW,IAAcpC,IACjD8E,GAASnD,EAAK,IAAKF,EAAK,MAG5BgB,EAAWqC,EACX0B,EAAY1I,EAAK2E,EAAUL,GAE3BsE,EAAQ3F,EAAI2F,MAAMF,KAEbG,EAAYlE,EAASd,IAAMgF,EAAYlE,EAAShB,KACjDiF,IAAUjG,EAAOmG,SAAWF,IAAUjG,EAAOoG,QAE7C9F,EAAI+F,SAASN,EAAW/F,EAAOsG,OAC/B1B,EAAUqB,IAAUjG,EAAOmG,QAAW,GAAK,IAC3C1E,GAAS,EAEK,MAAVA,GACApB,EAAKkG,iBAGLN,IAAUjG,EAAOoG,MACjB/F,EAAK1G,cAKT8K,IAAOzC,EACP0C,IAAOsB,IAIf,QAASE,GAAYlF,GACjB,GAAIK,GAAML,EAAI,EACd,OAAOK,GAAM,GAAKA,EAAM,EAG5B,QAASmF,GAAU/F,EAAKkC,GACpB,MAAIlC,IAAOhB,GAAUkD,EAAI3B,EAAI,GAAK,GACrByF,MAAS,IAAMC,IAAO,KAAM/E,WAAa,GAC3ClB,IAAQjB,GAASmD,EAAIzB,EAAI,GAAK,GAC5BuF,MAAS,IAAMC,IAAO,KAAM/E,WAAa,GAC3ClB,IAAQnB,GAAOqD,EAAIzB,EAAI,GAAK,GAC1BuF,MAAS,KAAMC,IAAO,KAAM/E,WAAa,GAC3ClB,IAAQlB,GAASoD,EAAI3B,EAAI,GAAK,GAC5ByF,MAAS,IAAMC,IAAO,KAAM/E,WAAa,IAE7C8E,MAAS,EAAGC,IAAO,EAAG/E,WAAa,GAGhD,QAASgF,GAAS3D,EAAK4D,GAEnB,GAAIC,GAAOvG,EAAI4C,UACX4D,EAAOD,EAAO,CAEdD,IAAU,IAId5D,EAAIQ,UAAY,UAChBR,EAAIS,YACJT,EAAIU,OAAS1B,EAAShB,EAAI,GAAM6F,EAAQC,EAClC9E,EAASd,EAAI,GAAM2F,EAAQC,GAEjC9D,EAAIc,IAAM9B,EAAShB,EAAI,GAAM6F,EAAQC,EAC/B9E,EAASd,EAAI,GAAM2F,EAAQC,EAC7BA,EAAM,EAAa,EAAVlF,KAAKmF,GAASH,GAAQ,GAEnC5D,EAAIa,QAGR,QAASd,GAAKC,GAEV,GAAIC,GAAI3C,EAAI4C,UACR8D,EAAQR,EAAU7E,EAAWK,EAEjCgB,GAAIQ,UAAY,UAEhBR,EAAIS,YAEJT,EAAIU,OAAS1B,EAAShB,EAAI,GAAMiC,EAAKA,EAAI,EACnCjB,EAASd,EAAI,GAAM+B,EAAKA,EAAI,GAElCD,EAAIc,IAAM9B,EAAShB,EAAI,GAAMiC,EAAKA,EAAI,EAChCjB,EAASd,EAAI,GAAM+B,EAAKA,EAAI,EAC9BA,EAAI,EAAGrB,KAAKmF,GAAKC,EAAMP,MACvB7E,KAAKmF,GAAKC,EAAMN,IAAKM,EAAMrF,WAE/BqB,EAAIa,OA9OR,GAAI7B,GAAW,KACXL,EAAY,KACZF,EAAQ,KACRQ,EAAM,KACN8C,EAAQ,KACRD,EAAQ,EACRY,IA6OJ,OA3OAA,GAAOuB,EAAIC,YAAc3H,EACzBmG,EAAOuB,EAAIE,UAAY7H,EACvBoG,EAAOuB,EAAIG,aAAe3H,EAC1BiG,EAAOuB,EAAII,YAAc7H,EAsOzB2F,KAGIpC,KAAQA,EACR4D,SAAYA,EACZ1B,SAAYA,EACZC,SAAYA,EACZJ,MAASA,EACTF,SAAYA,EACZI,SAAYA,EACZM,OAAUA,EACVE,QAAWA,EACXtB,KAAQA,EACRkB,SAAYA,EACZrD,MAASA,EACTsD,cAAiBA,IAIzBrF,EAAOsH,IAAM,SAAUT,GAQnB,QAASU,GAAarG,EAAGF,GACrB,MAAOE,IAAK,GAAKA,EAAIsG,GAAUxG,GAAK,GAAKA,EAAIyG,EAGjD,QAASC,GAAO/E,GACZ,MAAO4E,GAAa5E,EAAIzB,EAAGyB,EAAI3B,IAAMV,EAAIqC,EAAIzB,GAAGyB,EAAI3B,KAAOhB,EAAO2H,KAGtE,QAASrD,GAAa3B,GAClB,IAAK4E,EAAa5E,EAAIzB,EAAGyB,EAAI3B,GACzB,OAAO,CAEX,IAAI4G,GAAQtH,EAAIqC,EAAIzB,GAAGyB,EAAI3B,EAC3B,OAAO4G,KAAU5H,EAAOsG,OACpBsB,IAAU5H,EAAOmG,SACjByB,IAAU5H,EAAOoG,KAGzB,QAASyB,GAAS7E,GAEd,GAAI8E,GAAGC,EAAGC,EAAGC,CAEbjF,GAAIkF,YAAcjI,EAClB+C,EAAImF,UAAYjF,EAAU,EAC1BF,EAAIoF,QAAU,OAEd,KAAK,GAAIN,GAAI,EAAGA,EAAI9H,EAAOqI,MAAMnL,OAAQ4K,GAAK,EAAG,CAC7CG,EAAOjI,EAAOqI,MAAMP,GACpB9E,EAAIS,WAEJ,KAAK,GAAIsE,GAAI,EAAGA,EAAIE,EAAK/K,OAAQ6K,GAAK,EAElCC,EAAIC,EAAKF,GAELC,EAAE9D,KACFlB,EAAIU,OAAOsE,EAAE9D,KAAK,GAAKhB,EAAW8E,EAAE9D,KAAK,GAAKhB,GACvC8E,EAAEC,KACTjF,EAAIsF,OAAON,EAAEC,KAAK,GAAK/E,EAAW8E,EAAEC,KAAK,GAAK/E,GACvC8E,EAAEO,OACTvF,EAAIW,iBAAiBqE,EAAEO,MAAM,GAAKrF,EAC9B8E,EAAEO,MAAM,GAAKrF,EACb8E,EAAEO,MAAM,GAAKrF,EACb8E,EAAEO,MAAM,GAAKrF,EAGzBF,GAAIwF,UAIZ,QAASzG,KACLzB,EAAMmI,KAAKC,MAAMtJ,IAAeY,EAAO2I,MACvCnB,EAASlH,EAAIpD,OACbuK,EAAQnH,EAAI,GAAGpD,OAGnB,QAAS+I,GAAMtD,GACX,MAAOrC,GAAIqC,EAAIzB,GAAGyB,EAAI3B,GAG1B,QAASqF,GAAS1D,EAAKiG,GACnBtI,EAAIqC,EAAIzB,GAAGyB,EAAI3B,GAAK4H,EAGxB,QAASC,GAAU7F,GAEf,IAAK,GAAI8E,GAAI,EAAGA,EAAIN,EAAQM,GAAK,EAC7B,IAAK,GAAIC,GAAI,EAAGA,EAAIN,EAAOM,GAAK,EACxBzH,EAAIwH,GAAGC,KAAO/H,EAAOoG,OACrBpD,EAAIS,YAEJT,EAAIQ,UAAYtD,EAChB8C,EAAI8F,SAAUf,EAAI7E,EAAa4E,EAAI5E,EAC/BA,EAAWA,GAGfF,EAAIQ,UAAYvD,EAChB+C,EAAI+F,KAAO,QAAQ7F,EAAU,EAAE,WAM/BF,EAAIgG,UAAY,SAChBhG,EAAIiG,aAAe,SACnBjG,EAAIkG,SAAS,MAAQnB,EAAI7E,EAAaA,EAAY,EAC7C4E,EAAI5E,EAAaA,EAAY,GAElCF,EAAIa,OACJb,EAAIY,aAMpB,QAASb,GAAKC,GAEV,GAAI8E,GAAGC,EAAGlB,EAAO3D,CAEjBF,GAAIQ,UAAYtD,EAChB8C,EAAI8F,SAAS,EAAG,EAAGrB,EAAQZ,EAAMW,EAASX,GAE1CgB,EAAS7E,EAET,KAAK,GAAI8E,GAAI,EAAGA,EAAIN,EAAQM,GAAK,EAC7B,IAAK,GAAIC,GAAI,EAAGA,EAAIN,EAAOM,GAAK,EAC5BoB,EAAUrB,EAAGC,EAAG/E,GAK5B,QAASmG,GAAUjI,EAAGF,EAAGgC,GAErB,GAAIoG,GAAS9I,EAAIY,GAAGF,EAEhBoI,KAAWpJ,EAAOoG,OAItBpD,EAAIS,YAEA2F,IAAWpJ,EAAOsG,OAAS8C,IAAWpJ,EAAOqJ,OAC7CD,IAAWpJ,EAAOmG,UAElBnD,EAAIQ,UAAYtD,EAChB8C,EAAI8F,SAAU9H,EAAIkC,EAAahC,EAAIgC,EAC/BA,EAAWA,GAEXkG,IAAWpJ,EAAOmG,UAClBnD,EAAIQ,UAAY,OAChBR,EAAI+F,KAAO,YAKX/F,EAAI8F,SAAU9H,EAAIkC,EAAcA,EAAY,IACvChC,EAAIgC,EAAcA,EAAY,IAC/BA,EAAY,EAAGA,EAAY,KAGvCF,EAAIY,aAjJR,GAAI4D,GAAS,KACTC,EAAQ,KACRvE,EAAY2D,EAEZvG,EAAM,IAkJV,OAFAyB,MAGIgB,KAAQA,EACRoG,UAAaA,EACbN,UAAaA,EACb5C,MAASA,EACTI,SAAYA,EACZtE,MAASA,EACTwC,YAAemD,EACfpD,aAAgBA,EAChBkD,OAAUA,EACVC,MAASA,EACTvE,UAAaA,IAIrBlD,EAAOsJ,MAAQ,SAAUjJ,GAOrB,QAASkJ,GAAKxS,EAAMD,EAAM0S,GAEtB,GAAIzF,GAAI0F,EAAM1S,GAAQsE,SAASqO,cAAc,QAE7CC,GAAe5S,GAAQ,SAAU0D,GAASmP,EAASnP,EAAO1D,EAAMyS,IAE5DC,EAAM1S,KACNgN,EAAE8F,iBAAiB,iBAAkBF,EAAe5S,IAAO,GAC3DgN,EAAE+F,aAAa,UAAW,QAC1B/F,EAAE+F,aAAa,aAAc,QAC7B/F,EAAE+F,aAAa,MAAOhT,GACtBiN,EAAEgG,SAIV,QAASH,GAASnP,EAAO1D,EAAMgH,GACvBtD,EAAMuP,SAAWvP,EAAMwP,OAA6B,kBAAblM,KACvCA,IACI0L,EAAM1S,IACN0S,EAAM1S,GAAMmT,oBAAoB,iBAC5BP,EAAe5S,IAAO,IAMtC,QAASoT,KACL,IAAK,GAAIrC,GAAI,EAAGA,EAAIsC,EAAQlN,OAAQ4K,IAChC2B,EAAMW,EAAQtC,IAAIiC,QAClBN,EAAMW,EAAQtC,IAAIuC,YAAc,CAEpCD,MAGJ,QAASE,GAAMvT,GAEX,GAAI+Q,GAAGtD,KAAU+F,GAAQ,CAEzBd,GAAM1S,GAAMmT,oBAAoB,QAASM,EAAUzT,IAAO,EAE1D,KAAK,GAAI+Q,GAAI,EAAGA,EAAIsC,EAAQlN,OAAQ4K,KAC3ByC,GAASH,EAAQtC,GAClByC,GAAQ,EAER/F,EAAIrJ,KAAKiP,EAAQtC,GAGzBsC,GAAU5F,EAGd,QAASiG,GAAK1T,GACV2D,QAAQC,IAAI,kBACR8O,GAASA,EAAM1S,MACVsJ,EAAKqK,kBACNF,EAAUzT,GAAQ,WAAcuT,EAAMvT,IACtCqT,EAAQjP,KAAKpE,GACT0S,EAAM1S,KACN0S,EAAM1S,GAAM8S,iBAAiB,QAASW,EAAUzT,IAAO,GACvD0S,EAAM1S,GAAM0T,UAQ5B,QAASV,KACL,IAAK,GAAIjC,GAAI,EAAGA,EAAIsC,EAAQlN,OAAQ4K,IAChC2B,EAAMW,EAAQtC,IAAIiC,QAI1B,QAASY,KACL,IAAK,GAAI7C,GAAI,EAAGA,EAAIsC,EAAQlN,OAAQ4K,IAChC2B,EAAMW,EAAQtC,IAAI2C,OA/E1B,GAAIhB,MACAe,KACAb,KACAS,IAgFJ,QACID,aAAgBA,EAChBZ,KAAQA,EACRkB,KAAQA,EACRV,MAASA,EACTY,OAAUA,GAIlB,IAAIxS,GAAU,WAmBV,QAASkK,KACL,MAAOQ,GAGX,QAAS+H,GAAUnN,EAAMuE,GACrBgB,EAAIQ,UAAY,UAChBR,EAAI+F,KAAO,6BACX/F,EAAIkG,SAASzL,EACRuE,EAAA,MAAuB,GAAM1B,EAAI4C,WAChClB,EAAA,MAAuB,GAAK,GAAM1B,EAAI4C,WAGhD,QAAS2H,GAAOpN,GACZuF,EAAIQ,UAAY,UAChBR,EAAI+F,KAAOzI,EAAI4C,UAAU,QACzB,IAAIuE,GAAQzE,EAAI8H,YAAYrN,GAAMgK,MAC9BzG,EAAM,GAAKV,EAAI4C,UAAa,EAAIuE,EAAQ,CAE5CzE,GAAIkG,SAASzL,EAAMuD,EAA6B,GAAX,GAAbV,EAAIkH,OAAe,IAG/C,QAASkD,KACL,MAAyC,SAAlCK,aAAA,cAGX,QAASxP,KACLyP,EAAK3F,eACL,KAAK,GAAIyC,GAAI,EAAGA,EAAImD,EAAO/N,OAAQ4K,GAAK,EACpCmD,EAAOnD,GAAG/F,OAEdmJ,GAAMT,KAAK,SACXU,EAAatI,EACbhF,EAASgC,GAGb,QAASpE,KACLoC,EAAS6B,GACT0L,EAAQ,EACRJ,EAAKjJ,QACLzB,EAAIyB,QACJzB,EAAIyC,KAAKC,GACTzH,IAGJ,QAASqC,KAEL0C,EAAIyC,KAAKC,GACTnF,EAASwN,GAGb,QAAS1N,KACL0N,EAASC,EACTzN,EAAS8B,GAGTW,EAAIyC,KAAKC,GACT6H,EAAO,UASX,QAASrF,GAAQC,GACb,GAAIA,EAAEE,UAAYsB,EAAIsE,EAClB9P,QACG,IAAIgK,EAAEE,UAAYsB,EAAIuE,EACzBN,EAAMf,eACNY,aAAA,eAAiCL,QAC9B,IAAIjF,EAAEE,UAAYsB,EAAIwE,GAAKH,IAAU3L,EACxCuL,EAAMP,SACNrK,EAAIyC,KAAKC,GACTnF,EAASwN,OACN,IAAI5F,EAAEE,UAAYsB,EAAIwE,EACzBJ,EAASC,EACTzN,EAAS8B,GACTuL,EAAMnB,QACNzJ,EAAIyC,KAAKC,GACT6H,EAAO,cACJ,IAAIS,IAAU3L,EACjB,MAAOqL,GAAKxF,QAAQC,EAExB,QAAO,EAIX,QAASR,KAcLpH,EAAS6B,GACTsL,EAAK/F,WAEkB,GAAnB+F,EAAK9F,YACLhN,OAAOyB,UACH,2BAKJqR,EAAK9F,WAAa,EAClB3J,IAEArD,OAAOuB,YAAY,qBAI3B,QAASoE,GAAS6N,GACdJ,EAAQI,EACRC,GAAe,EAGnB,QAASC,GAASZ,EAAMa,GACpB,MAAQjK,MAAKkK,KAAKlK,KAAKmK,IAAIF,EAAM7K,EAAIgK,EAAKhK,EAAG,GACzCY,KAAKmK,IAAIF,EAAM3K,EAAI8J,EAAK9J,EAAG,IAAO,GAG1C,QAAS8K,MAsCT,QAASC,GAAYtJ,GACjBrC,EAAI6I,UAAUvH,KAAKC,MAAMc,EAAIzB,EAAI,IAAKU,KAAKC,MAAMc,EAAI3B,EAAI,IAAKgC,GAC9D1C,EAAI6I,UAAUvH,KAAKsK,KAAKvJ,EAAIzB,EAAI,IAAKU,KAAKsK,KAAKvJ,EAAI3B,EAAI,IAAKgC,GAGhE,QAASmJ,KAEL,GAAUC,GAAGtE,EAAGuE,EAAKxH,CAErByH,KAEA,KAAK,GAAIxE,GAAI,EAAGuE,EAAMpB,EAAO/N,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAC/CwE,EAASnR,KAAK8P,EAAOnD,GAAG5D,KAAKlB,GAEjCoJ,GAAIpB,EAAK9G,KAAKlB,EAEd,KAAK,GAAI8E,GAAI,EAAGuE,EAAMpB,EAAO/N,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAC/CmE,EAAYK,EAASxE,GAAGpD,IAE5BuH,GAAYG,EAAE1H,IAEd,KAAK,GAAIoD,GAAI,EAAGuE,EAAMpB,EAAO/N,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAC/CmD,EAAOnD,GAAG/E,KAAKC,EAEnBgI,GAAKjI,KAAKC,GAEVuJ,EAAUH,EAAA,GAGV,KAAK,GAAItE,GAAI,EAAGuE,EAAMpB,EAAO/N,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAC3C8D,EAASW,EAASD,EAASxE,GAAT,OACdmD,EAAOnD,GAAGlH,eACV4L,GAAc,EACd3H,EAAsB,GAAb2H,EACT5B,EAAU/F,EAAQyH,EAASxE,IAC3BkD,EAAKpG,SAASC,GAGdhH,EAASiC,GACTqL,EAAatI,EACbqI,EAAMT,KAAK,YACXQ,EAAOnD,GAAGxF,OACH2I,EAAOnD,GAAGtG,gBACjB3D,EAASkC,GACToL,EAAatI,EACbqI,EAAMT,KAAK,SAO3B,QAASgC,KAEL,GAAIC,EAQJ,IANIpB,IAAU3L,KACRkD,EAGNvC,EAAIuI,UAAU7F,GAEVsI,IAAU1L,EACVuM,QACG,IAAIb,IAAU5L,GAAWiM,EAC5BA,GAAe,EACfrL,EAAIyC,KAAKC,OAEN,IAAIsI,IAAUxL,GAChB+C,EAAOsI,EAAenL,EAAOG,IAAM,EACpCG,EAAIyC,KAAKC,GACTnF,EAAS+B,OACN,IAAI0L,IAAUvL,EACjB,GAAI8C,EAAOsI,EAA2B,EAAbnL,EAAOG,IAC5B8E,QACG,CACHgH,EAAYM,EACZ,KAAK,GAAIzE,GAAI,EAAGuE,EAAMpB,EAAO/N,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAC/CmE,EAAYK,EAASxE,GAAGpD,KACxB4H,EAASnR,KAAK8P,EAAOnD,GAAG/E,KAAKC,GAEjCgI,GAAKrE,SAAS3D,EAA2B,GAArBH,EAAOsI,IAAgC,EAAbnL,EAAOG,UAElDmL,KAAUzL,IAEjB6M,EAAO,EAAI9K,KAAKC,OAAOsJ,EAAatI,GAAQ7C,EAAOG,KAEtC,IAATuM,GACApM,EAAIyC,KAAKC,GACTnF,EAAS+B,IAEL8M,IAASC,IACTA,EAAWD,EACXpM,EAAIyC,KAAKC,GAET6H,EAAO,gBAAkB6B,IAKrCV,KAGJ,QAASrS,KACLwR,EAAatI,EACb2J,EAAa,CACb,KAAK,GAAI1E,GAAI,EAAGA,EAAImD,EAAO/N,OAAQ4K,GAAK,EACpCmD,EAAOnD,GAAG1F,YAAYY,EAEtBpB,MAAKE,SAAW,GAEhB5J,OAAOyB,UACH,yBAGJzB,OAAOyB,UACH,oBAERuR,EAAMT,KAAK,WAGf,QAASlE,KACL1I,EAAS6B,GACT0L,GAAS,EACT9K,EAAIyB,QACJiJ,EAAK5F,WACL7J,IACArD,OAAO0B,oBAGX,QAASgT,GAASnH,GACV6F,IAAU5L,GAAW4L,IAAU3L,IAC/B8F,EAAEG,iBACFH,EAAEI,mBAIV,QAASzK,GAAKyR,EAASC,GAEnBD,EAAQE,UAAU,EAElB,IAAIjF,GAAGuE,EACHnJ,EAAY2J,EAAQG,YAAc,GAClCC,EAAS5R,SAASqO,cAAc,UAEhCwD,EAAKhV,OAAOiV,UAEZD,GAAG,MACHhK,EAAWgK,EAAG,GAGlB,IAAIE,GAAKlV,OAAOmV,YACZC,EAAyB,GAAZpK,EACbqK,EAAwB,GAAZrK,EACZsK,EAAQN,EAAKK,EACbE,EAASL,EAAKE,EAEdI,EAAWF,EAAMC,EAAOD,EAAMC,CAElCR,GAAOnD,aAAa,QAAsB,GAAZ5G,EAAkBwK,EAAW,MAC3DT,EAAOnD,aAAa,SAAuB,GAAZ5G,EAAkBwK,EAAW,MAG5Db,EAAQc,YAAYV,GAEpBjK,EAAMiK,EAAOW,WAAW,MACxB5K,EAAIhJ,MAAM0T,EAAUA,GAEpBxC,EAAQ,GAAIlL,GAAOsJ,OAAQoB,cAAiBA,IAC5CpK,EAAM,GAAIN,GAAOsH,IAAIpE,GACrB8H,EAAO,GAAIhL,GAAO2E,MACd4B,eAAkBA,EAClB5M,UAAaA,GACd2G,GAGH2K,IACA,KAAK,GAAInD,GAAI,EAAGuE,EAAMwB,EAAW3Q,OAAQ4K,EAAIuE,EAAKvE,GAAK,EAAG,CACtD,GAAI+D,GAAQ,GAAI7L,GAAOI,OAAQiC,QAAWA,GAAW/B,EAAKuN,EAAW/F,GACrEmD,GAAO9P,KAAK0Q,GAGhBvL,EAAIyC,KAAKC,GAITgH,IAKAa,EAAO,cAEP,IAAIiD,GAAYC,UAAU7C,MAAM8C,IAAM,MAAQ,KAY9CzE,KATK,QAASuD,EAAO,sBAAwBgB,IACxC,MAAOhB,EAAO,aAAegB,IAC7B,WAAYhB,EAAO,kBAAoBgB,IACvC,UAAWhB,EAAO,iBAAmBgB,IACrC,SAAUhB,EAAO,sBAAwBgB,IACzC,UAAWhB,EAAO,sBAAwBgB,IAI7B,cAElBpT,QAAQC,IAAI,iBAGhB,QAAS4O,GAAK0E,EAAKlQ,GAEf,GAAmB,IAAfkQ,EAAI/Q,OACJa,QACG,CACH,GAAIiD,GAAIiN,EAAIC,KACZhD,GAAM3B,KAAKvI,EAAE,GAAIA,EAAE,GAAI,WAAcuI,EAAK0E,EAAKlQ,MAIvD,QAASiM,KAGLmE,EAAQ5T,YAAYkS,EAAU,IAAOzM,EAAOG,KAC5C9E,SAASwO,iBAAiB,UAAWrE,GAAS,GAC9CnK,SAASwO,iBAAiB,WAAY+C,GAAU,GAzZpD,GAOIN,GAAUC,EAPVjB,EAAQ5L,EACRwL,EAAQ,KACRD,KACA4C,GAzxBa,UAIL,UADE,UADD,WAwxBTrB,EAAa,EACbpB,EAAQ,EACRvI,EAAO,EAEP8I,GAAe,EACfR,EAAa,KACbwB,EAAW,EACX3J,EAAM,KACNmL,EAAQ,KACR7N,EAAM,KACN0K,EAAO,KACPK,EAAS,IA+Yb,QACIjQ,OACAK,eACA+J,UACAoH,WACArR,aACAoC,YACAC,aACAC,WACAZ,QATG,SASKmR,GACJpD,EAAK1F,OAAO8I,GACZ1T,QAAQC,IAAI,oBAAoByT,QAOxCnH,MAAQoH,UAAa,EAAGC,IAAO,EAAGC,cAAiB,GAAIC,MAAS,GAAIC,MAAS,GAAIC,KAAQ,GAAIC,IAAO,GAAIhP,MAAS,GAAIiP,UAAa,GAAIC,OAAU,GAAIC,SAAY,GAAIC,QAAW,GAAIC,UAAa,GAAIC,IAAO,GAAIC,KAAQ,GAAIhI,WAAc,GAAIC,SAAY,GAAIC,YAAe,GAAIC,WAAc,GAAI8H,aAAgB,GAAIC,OAAU,GAAIC,OAAU,GAAIC,UAAa,GAAIC,aAAgB,GAAIC,cAAiB,GAAIC,OAAU,GAAIC,iBAAoB,IAAKC,kBAAqB,IAAKC,uBAAwB,IAAKC,kBAAqB,IAAKC,gBAAmB,IAAKC,SAAY,IAAKC,YAAe,KAA5jB9Q,IAAAF,EAAA,YAA8kB,KAA9kBE,IAAAF,EAAmlB,cAAe,KAAlmBE,IAAAF,EAAumB,QAAS,KAAhnBE,IAAAF,EAAqnB,eAAgB,KAAroBE,IAAAF,EAA0oB,YAAa,KAAvpBE,IAAAF,EAA4pB,UAAW,KAAvqBE,IAAAF,EAA4qB,eAAgB,KAA5rBE,IAAAF,EAAisB,sBAAuB,KAAxtBE,IAAAF,EAA6tB,kBAAmB,KAAhvBE,IAAAF,EAAqvB,uBAAwB,KAA7wBE,IAAAF,EAAkxB,aAAc,KAAhyBA,IAEJ,WAEI,IAAK,GAAI8I,GAAI,GAAIA,GAAK,GAAIA,IACtBb,EAAI,IAAMa,EAAI,KAAOA,CAGzB,KAAK,GAAIA,GAAI,GAAIA,GAAK,GAAIA,IACtBb,EAAI,GAAKgJ,OAAOC,aAAapI,IAAMA,CAGvC,KAAK,GAAIA,GAAI,GAAIA,GAAK,IAAKA,IACvBb,EAAI,YAAca,EAAI,KAAOA,CAGjC,KAAK,GAAIA,GAAI,IAAKA,GAAK,IAAKA,IACxBb,EAAI,KAAOa,EAAI,IAAM,IAAMA,KAInC9H,EAAO2H,KAAO,EACd3H,EAAOmG,QAAU,EACjBnG,EAAOsG,MAAQ,EACftG,EAAOqJ,MAAQ,EACfrJ,EAAOoG,KAAO,EAEdpG,EAAO2I,MACF,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACtD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAA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","file":"static/js/app.01cb81c362fc3cef7b80.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Hello__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Hello___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Hello__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Hello',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Hello___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(84)\n}\nvar Component = __webpack_require__(38)(\n  /* script */\n  __webpack_require__(42),\n  /* template */\n  __webpack_require__(88),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pacman_js__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_gsap__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nwindow.PACMAN = __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'hello',\n  data: function data() {\n    return {\n      globalTime: 0,\n      pacMode: \"normal\",\n      gameScene: \"index\",\n      dialogContent: \"\",\n      dialogQuery: [],\n      dialogAvatar: \"static/img/Pacman/Normal.svg\",\n      dialogState: false,\n      graveTime: 0,\n      canPress: true,\n      lastKeycode: -1,\n      gameScore: 0,\n      pressRecords: [],\n      gameInited: false,\n      paclives: 2,\n      deadtime: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    window.setScore = this.setScore;\n    window.dialogCallback = this.dialogCallback;\n    window.toSceneDead = this.toSceneDead;\n    window.setlives = this.setlives;\n    window.eatenPill = this.eatenPill;\n    window.userCompleteLevel = this.userCompleteLevel;\n    window.press = this.press;\n\n    this.globalTime++;\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".check\", 1, { opacity: 0, scale: 2, bottom: \"-30px\" }).delay(1);\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".title\", 2, { opacity: 0, bottom: \"-30px\" }).delay(1.5);\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".title2\", 1, { opacity: 0, bottom: \"-30px\" }).delay(2);\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".start\", 1, { opacity: 0, bottom: \"-30px\" }).delay(3);\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".prompt\", 1, { opacity: 0, repeat: -1 }).delay(4).repeat();\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".pacman\", 1, { opacity: 0 }).delay(5);\n    __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".castle\", 1, { top: \"0px\", scale: \"1.1\" }).delay(3);\n\n    var _this = this;\n    setInterval(function () {\n      _this.globalTime++;\n    }, 100);\n\n    __WEBPACK_IMPORTED_MODULE_3_jquery___default()(\"body\").keydown(function (event) {\n      console.log(event.which);\n      var _this = _this2;\n      var keyLeft = 37;\n      if (_this.canPress || _this.lastKeycode != event.which) {\n        switch (event.which) {\n          case 38:\n            _this.press(\"up\");\n            break;\n          case 40:\n            _this.press(\"down\");\n            break;\n          case 37:\n            _this.press(\"left\");\n            break;\n          case 39:\n            _this.press(\"right\");\n            break;\n          case 65:\n            _this.press(\"a\");\n            break;\n          case 66:\n            _this.press(\"b\");\n            break;\n          case 13:\n            _this.press(\"enter\");\n            break;\n        }\n        _this.canPress = false;\n        _this.lastKeycode = event.which;\n        setTimeout(function () {\n          _this.canPress = true;\n        }, 400);\n      }\n    });\n  },\n\n  computed: {\n    pacimg: function pacimg() {\n      if (this.pacMode == \"eating\") {\n        return \"static/img/Pacman/Eat\" + (this.globalTime % 3 + 1) + \".svg\";\n      }\n      return \"static/img/Pacman/Normal.svg\";\n    }\n  },\n  methods: {\n    startGame: function startGame() {\n      var _this = this;\n      this.pacMode = \"eating\";\n      __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 2, { left: \"-250px\" });\n      __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 1, { opacity: 0 }).delay(1);\n\n      setTimeout(function () {\n        _this.gameScene = \"game\";\n        _this.dialogAvatar = \"static/img/Pacman/Normal.svg\", _this.dialogQuery.push(\"我是pacman 我是中華民國的學生\", \"哇，今天是小學開學的日子，媽媽爸爸說我即將進入中華民國的教育迷宮，好興奮><。\", \"媽媽說，只要拿到好分數，以後就會出人頭地，變成成功ㄉ人\", \"所以我一定要拿到很多一百分！\");\n        _this.dialogQuery.push(function () {\n          __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].init(document.getElementById('pacman'), 'static/');\n\n          if (_this.gameInited) {\n\n            setTimeout(function () {\n              __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].startLevel();\n              console.log(\"start level\");\n            }, 500);\n            _this.closeDialog();\n          } else {\n            _this.gameInited = true;\n            setTimeout(function () {\n              __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].startNewGame();\n              console.log(\"start game\");\n            }, 500);\n            _this.closeDialog();\n          }\n        });\n        _this.popDialog();\n      }, 2000);\n    },\n    goGrave: function goGrave() {\n\n      if (this.graveTime == 0) {\n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Grandma.svg\",\n          content: \"乖孫啊你要往下去哪裡？乖乖在家讀書，不要出去亂晃，以後才會有出息，你爺爺會高興的\"\n        });\n        this.popDialog();\n      } else if (this.graveTime == 1) {\n        var _this = this;\n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"下面什麼都沒有啊....\"\n        });\n        this.popDialog();\n      } else if (this.graveTime == 2) {\n        var _this3 = this;\n\n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"好可怕啦..好啦我下去看看....\"\n        }, function () {\n          _this3.pacMode = \"eating\";\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0.5, { rotation: \"-90deg\" });\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 3, { bottom: \"-300px\" }).delay(1);\n          _this3.closeDialog();\n          setTimeout(function () {\n            _this3.gameScene = \"grave\";\n            _this3.dialogQuery.push(\"好可怕...好多墓碑，都是曾經走過來這裡的....不要，媽媽跟我說只要跟大家一樣玩遊戲就會順利的，我們回去玩遊戲，好不好（害怕）\");\n            _this3.dialogQuery.push(\"按上就可以回去ㄌ，遊戲在上面啊啊啊....\");\n            _this3.graveTime = 0;\n            _this3.popDialog();\n          }, 3000);\n        });\n        this.popDialog();\n      }\n      this.graveTime++;\n    },\n    walkDownGrave: function walkDownGrave() {\n      var _this4 = this;\n\n      var _this = this;\n      if (this.graveTime == 0) {\n        _this.dialogQuery.push(\"我不要繼續走下去喇QQQ\");\n        _this.dialogQuery.push(function () {\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0, { scaleX: 1 });\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 2, { left: \"-100px\" }).delay(0);\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0, { scaleX: -1 }).delay(2);\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 2, { left: \"100px\" }).delay(2);\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0, { scaleX: 1 }).delay(4);\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 2, { left: \"0px\" }).delay(4);\n        });\n        _this.popDialog();\n      } else {\n        _this.dialogQuery.push(\"為什麼要繼續走下去QWQQQ\");\n        _this.dialogQuery.push(function () {\n          _this.pacMode = \"eating\";\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0.5, { rotation: \"-90deg\" });\n          __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 5, { top: \"100%\" }).delay(1);\n          _this.changeScene(\"door\", 5);\n          _this.closeDialog();\n          setTimeOut(function () {\n            _this.dialogQuery.push({\n              avatar: \"static/img/Knight.svg\",\n              content: \"哇，居然找到這個地方，那你一定與眾不同\"\n            });\n            _this.popDialog();\n            _this4.graveTime = 0;\n          }, 6000);\n        });\n        _this.popDialog();\n      }\n      this.graveTime++;\n    },\n    walkBackGrave: function walkBackGrave() {\n      var _this = this;\n      _this.dialogQuery.push(\"嗚嗚我們回去了哦，不然走出體制太可怕了\");\n\n      _this.dialogQuery.push(function () {\n        _this.pacMode = \"eating\";\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 0.5, { rotation: \"90deg\" });\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 2, { top: \"-500px\" }).delay(1);\n        _this.changeScene(\"index\", 3);\n        _this.closeDialog();\n        setTimeOut(function () {\n          _this.dialogQuery.push({\n            avatar: \"static/img/Grandma.svg\",\n            content: \"這才是我的乖孫啊！ 緊去讀冊哦\"\n          });\n          _this.popDialog();\n        }, 3000);\n      });\n      _this.popDialog();\n    },\n    walkDownDoor: function walkDownDoor() {\n      var _this = this;\n      _this.dialogQuery.push(\"我們要前往雜學校募資頁啦!!\");\n\n      _this.dialogQuery.push(function () {\n        _this.pacMode = \"eating\";\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacman\", 5, { top: \"100%\" });\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".logo\", 1, { opacity: 0 }).delay(4);\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".gamePad\", 1, { opacity: 0 }).delay(4);\n\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".coverBlue\", 1, { opacity: 1 }).delay(4);\n        //_this.changeScene(\"empty\",5)\n        _this.closeDialog();\n\n        setTimeout(function () {\n          window.location = \"http://zashare.org/funding\";\n        }, 5000);\n      });\n      _this.popDialog();\n    },\n    goSecret: function goSecret() {\n      var _this5 = this;\n\n      var _this = this;\n      _this.dialogQuery = [];\n      _this.dialogQuery.push(\"什麼！？你居然知道上上下下左左右右ABAB這招（不是嘲笑你年紀的意思)，那就直接帶你去募資頁囉！！\");\n      _this.dialogQuery.push(function () {\n        _this.pacMode = \"eating\";\n        //TweenMax.to(\".pacman\",0.5,{rotation: \"-90deg\"})\n        //TweenMax.to(\".pacman\",5,{top: \"100%\"}).delay(1)\n        _this.changeScene(\"door\", 5);\n        setTimeOut(function () {\n          _this.dialogQuery.push({\n            avatar: \"static/img/Knight.svg\",\n            content: \"哇，居然找到這個地方，那你一定與眾不同\"\n          });\n          _this.popDialog();\n          _this5.graveTime = 0;\n        }, 500);\n      });\n      _this.popDialog();\n    },\n    relife: function relife() {\n      var _this = this;\n      _this.dialogQuery.push(\"讓我們重新開始吧... 讀書才有可能變成成功的人呢！\");\n\n      _this.dialogQuery.push(function () {\n        _this.pacMode = \"eating\";\n\n        _this.changeScene(\"index\", 1);\n        _this.closeDialog();\n\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\".pacmandead\", 1, { left: \"-200px\", opacity: 0 });\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\"h1\", 1, { opacity: 0 }).delay(1);\n        __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(\"h2\", 1, { opacity: 0 }).delay(1.5);\n      });\n      _this.popDialog();\n    },\n    press: function press(key) {\n      if (this.gameScene == \"index\" && (key == \"left\" || key == \"a\")) {\n        this.startGame();\n      }\n      if (this.gameScene == \"index\" && key == \"down\") {\n        this.goGrave();\n      }\n      if (this.dialogState && (key == \"enter\" || key == \"a\" || key == \"right\")) {\n        this.dailogAction();\n      }\n      if (this.gameScene == \"grave\" && !this.dialogState && key == \"down\") {\n        this.walkDownGrave();\n      }\n      if (this.gameScene == \"grave\" && !this.dialogState && key == \"up\") {\n        this.walkBackGrave();\n      }\n      if (this.gameScene == \"door\" && !this.dialogState && key == \"down\") {\n        this.walkDownDoor();\n      }\n      if (this.gameScene == \"dead\" && !this.dialogState && (key == \"left\" || key == \"a\")) {\n        this.relife();\n      }\n\n      if (this.gameScene == \"game\" && !this.dialogState && key == \"b\") {\n\n        this.changeScene(\"index\");\n      }\n      if (this.gameScene == \"game\" && !this.dialogState) {\n        var kmap = {\n          up: 3,\n          down: 1,\n          left: 2,\n          right: 11\n        };\n        __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].sendkey(kmap[key]);\n      }\n\n      this.pressRecords.push(key);\n      if (this.pressRecords.length > 12) {\n        this.pressRecords.shift();\n      }\n      if (this.pressRecords.join(\"/\") == [\"up\", \"up\", \"down\", \"down\", \"left\", \"left\", \"right\", 'right', 'a', 'b', 'a', 'b'].join(\"/\")) {\n        this.goSecret();\n      }\n      console.log(this.pressRecords);\n    },\n    dailogAction: function dailogAction() {\n      if (this.dialogQuery.length > 0) {\n        var next = this.dialogQuery.shift();\n\n        if (typeof next == \"string\") {\n          this.dialogContent = next;\n        } else if ((typeof next === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(next)) == \"object\") {\n          this.dialogContent = next.content;\n          this.dialogAvatar = next.avatar;\n        } else if (typeof next == \"function\") {\n          next();\n        }\n      } else {\n        this.dialogState = false;\n      }\n    },\n    popDialog: function popDialog() {\n      this.dailogAction();\n      this.dialogState = true;\n    },\n    closeDialog: function closeDialog() {\n      this.dialogState = false;\n    },\n    changeScene: function changeScene(scene, delay) {\n      var _this = this;\n      setTimeout(function () {\n        _this.gameScene = scene;\n      }, delay * 1000);\n    },\n    setScore: function setScore(sc) {\n      this.gameScore = sc;\n    },\n    setlives: function setlives(l) {\n      this.paclives = l;\n    },\n    eatenPill: function eatenPill(text) {\n      var _this6 = this;\n\n      __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].pauseGame();\n      this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Grandma.svg\",\n        content: text\n      });\n      this.dialogQuery.push(function () {\n        _this6.closeDialog();\n        __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].resumeGame();\n\n        var PLAYING = 7;\n        __WEBPACK_IMPORTED_MODULE_1__pacman_js__[\"a\" /* default */].setState(PLAYING);\n      });\n      this.popDialog();\n    },\n    dialogCallback: function dialogCallback(obj) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.dialogQuery.push(obj);\n      if (callback) {\n        this.dialogQuery.push(function () {\n          callback();\n        });\n      }\n      this.popDialog();\n    },\n    toSceneDead: function toSceneDead(deadtext) {\n      var _this = this;\n      _this.deadtime++;\n\n      //第一次全部死亡 只有提示\n      //第二次全部死亡 直接說明\n\n      if (_this.deadtime == 1) {\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"糟糕 GG惹，連續兩次考不及格被退學了，回家一定被罵死\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"我這輩子都不可能出人投地了...\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: deadtext\n        });\n\n        _this.dialogQuery.push(function () {\n\n          _this.changeScene(\"dead\", 0);\n          setTimeout(function () {\n            __WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].from(\".pressrompt\", 1, { opacity: 0, repeat: -1 }).delay(4).repeat();\n          }, 500);\n          _this.closeDialog();\n        });\n        _this.popDialog();\n      } else if (_this.deadtime >= 2) {\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"在中華民國教育的迷宮中，無止盡的求高分並沒有出口\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"我們在不斷的競爭與分數中，迷失了自我，你，還記得自己小時候的夢想嗎？\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"讓我們，嘗試另一條路，從一開始就走出框架的路\"\n        });\n        _this.popDialog();\n\n        _this.dialogQuery.push(function () {\n\n          _this.changeScene(\"index\", 0.5);\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"我們回到了首頁，請一直按下，不要管阿嬤的阻止，也不要害怕\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"就可以看到教育的大門了\"\n        });\n      }\n    },\n    userCompleteLevel: function userCompleteLevel() {\n      var _this = this;\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \"恭喜你 在中華民國教育迷宮裡面獲得順利，但是人生的成功真的是由分數定義的嗎？\"\n      });\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \" 要不要試試從一開始就走不同方向呢？<br>A 玩夠了，我要探索分數之外的可能性 | B 不管，我要繼續玩！！\"\n      });\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \" 要不要試試從一開始就走不同方向呢？<br><span onclick='window.press(\\\"a\\\")'> A 玩夠了，我要探索分數之外的可能性</span> | <span onclick='window.press(\\\"b\\\")'> B 不管，我要繼續玩！！</span>\"\n      });\n\n      _this.popDialog();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_gsap__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_gsap__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n//import Modernizr from 'modernizr'\n//window.Modernizr=Modernizr\n// import Bootstrap from 'bootstrap'\n// import jQuery from 'jquery'\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n\n\n\nvar _KEY;\n\n/*jslint browser: true, undef: true, eqeqeq: true, nomen: true, white: true */\n/*global window: false, document: false */\n\nvar NONE = 4,\n    UP = 3,\n    LEFT = 2,\n    DOWN = 1,\n    RIGHT = 11,\n    WAITING = 5,\n    PAUSE = 6,\n    PLAYING = 7,\n    COUNTDOWN = 8,\n    EATEN_PAUSE = 9,\n    DYING = 10,\n    Pacman = {};\n\nvar colorOrange = \"#ff4c00\";\nvar colorBlue = \"#0047ba\";\nvar colorLightBlue = \"#00addc\";\nvar colorYellow = \"#fff36e\";\nvar colorGreen = \"#8ae872\";\nvar colorPurple = \"#c39bde\";\nvar colorPink = \"#ff7bd4\";\n\nPacman.FPS = 30;\n\nPacman.Ghost = function (game, map, colour) {\n\n    var position = null,\n        direction = null,\n        eatable = null,\n        eaten = null,\n        due = null;\n\n    function getNewCoord(dir, current) {\n\n        var speed = isVunerable() ? 1 : isHidden() ? 4 : 2,\n            xSpeed = dir === LEFT && -speed || dir === RIGHT && speed || 0,\n            ySpeed = dir === DOWN && speed || dir === UP && -speed || 0;\n\n        return {\n            \"x\": addBounded(current.x, xSpeed),\n            \"y\": addBounded(current.y, ySpeed)\n        };\n    };\n\n    /* Collision detection(walls) is done when a ghost lands on an\n     * exact block, make sure they dont skip over it \n     */\n    function addBounded(x1, x2) {\n        var rem = x1 % 10,\n            result = rem + x2;\n        if (rem !== 0 && result > 10) {\n            return x1 + (10 - rem);\n        } else if (rem > 0 && result < 0) {\n            return x1 - rem;\n        }\n        return x1 + x2;\n    };\n\n    function isVunerable() {\n        return eatable !== null;\n    };\n\n    function isDangerous() {\n        return eaten === null;\n    };\n\n    function isHidden() {\n        return eatable === null && eaten !== null;\n    };\n\n    function getRandomDirection() {\n        var moves = direction === LEFT || direction === RIGHT ? [UP, DOWN] : [LEFT, RIGHT];\n        return moves[Math.floor(Math.random() * 2)];\n    };\n\n    function reset() {\n        eaten = null;\n        eatable = null;\n        position = { \"x\": 90, \"y\": 80 };\n        direction = getRandomDirection();\n        due = getRandomDirection();\n    };\n\n    function onWholeSquare(x) {\n        return x % 10 === 0;\n    };\n\n    function oppositeDirection(dir) {\n        return dir === LEFT && RIGHT || dir === RIGHT && LEFT || dir === UP && DOWN || UP;\n    };\n\n    function makeEatable() {\n        direction = oppositeDirection(direction);\n        eatable = game.getTick();\n    };\n\n    function eat() {\n        eatable = null;\n        eaten = game.getTick();\n    };\n\n    function pointToCoord(x) {\n        return Math.round(x / 10);\n    };\n\n    function nextSquare(x, dir) {\n        var rem = x % 10;\n        if (rem === 0) {\n            return x;\n        } else if (dir === RIGHT || dir === DOWN) {\n            return x + (10 - rem);\n        } else {\n            return x - rem;\n        }\n    };\n\n    function onGridSquare(pos) {\n        return onWholeSquare(pos.y) && onWholeSquare(pos.x);\n    };\n\n    function secondsAgo(tick) {\n        return (game.getTick() - tick) / Pacman.FPS;\n    };\n\n    function getColour() {\n        if (eatable) {\n            if (secondsAgo(eatable) > 5) {\n                return game.getTick() % 20 > 10 ? \"#FFFFFF\" : colorOrange;\n            } else {\n                return colorOrange;\n            }\n        } else if (eaten) {\n            return \"#222\";\n        }\n        return colour;\n    };\n\n    function draw(ctx) {\n\n        var s = map.blockSize,\n            top = position.y / 10 * s,\n            left = position.x / 10 * s;\n\n        if (eatable && secondsAgo(eatable) > 8) {\n            eatable = null;\n        }\n\n        if (eaten && secondsAgo(eaten) > 3) {\n            eaten = null;\n        }\n\n        var tl = left + s;\n        var base = top + s - 3;\n        var inc = s / 10;\n\n        var high = game.getTick() % 10 > 5 ? 3 : -3;\n        var low = game.getTick() % 10 > 5 ? -3 : 3;\n\n        ctx.fillStyle = getColour();\n        ctx.beginPath();\n\n        ctx.moveTo(left, base);\n\n        ctx.quadraticCurveTo(left, top, left + s / 2, top);\n        ctx.quadraticCurveTo(left + s, top, left + s, base);\n\n        // Wavy things at the bottom\n        ctx.quadraticCurveTo(tl - inc * 1, base + high, tl - inc * 2, base);\n        ctx.quadraticCurveTo(tl - inc * 3, base + low, tl - inc * 4, base);\n        ctx.quadraticCurveTo(tl - inc * 5, base + high, tl - inc * 6, base);\n        ctx.quadraticCurveTo(tl - inc * 7, base + low, tl - inc * 8, base);\n        ctx.quadraticCurveTo(tl - inc * 9, base + high, tl - inc * 10, base);\n\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.beginPath();\n        ctx.fillStyle = \"#FFF\";\n        //left eye\n        ctx.arc(left + s / 2.5, top + s / 2, s / 8, 0, 300, false);\n        //right eye\n        ctx.arc(left + s - s / 2.5, top + s / 2, s / 8, 0, 300, false);\n        ctx.closePath();\n        ctx.fill();\n\n        var f = s / 12;\n        var off = {};\n        off[RIGHT] = [f, 0];\n        off[LEFT] = [-f, 0];\n        off[UP] = [0, -f];\n        off[DOWN] = [0, f];\n\n        ctx.beginPath();\n        ctx.fillStyle = \"#000\";\n        ctx.arc(left + s / 2.5 + off[direction][0], top + s / 2 + off[direction][1], s / 15, 0, 300, false);\n        ctx.arc(left + s - s / 2.5 + off[direction][0], top + s / 2 + off[direction][1], s / 15, 0, 300, false);\n        ctx.closePath();\n        ctx.fill();\n    };\n\n    function pane(pos) {\n\n        if (pos.y === 100 && pos.x >= 190 && direction === RIGHT) {\n            return { \"y\": 100, \"x\": -10 };\n        }\n\n        if (pos.y === 100 && pos.x <= -10 && direction === LEFT) {\n            return position = { \"y\": 100, \"x\": 190 };\n        }\n\n        return false;\n    };\n\n    function move(ctx) {\n\n        var oldPos = position,\n            onGrid = onGridSquare(position),\n            npos = null;\n\n        if (due !== direction) {\n\n            npos = getNewCoord(due, position);\n\n            if (onGrid && map.isFloorSpace({\n                \"y\": pointToCoord(nextSquare(npos.y, due)),\n                \"x\": pointToCoord(nextSquare(npos.x, due))\n            })) {\n                direction = due;\n            } else {\n                npos = null;\n            }\n        }\n\n        if (npos === null) {\n            npos = getNewCoord(direction, position);\n        }\n\n        if (onGrid && map.isWallSpace({\n            \"y\": pointToCoord(nextSquare(npos.y, direction)),\n            \"x\": pointToCoord(nextSquare(npos.x, direction))\n        })) {\n\n            due = getRandomDirection();\n            return move(ctx);\n        }\n\n        position = npos;\n\n        var tmp = pane(position);\n        if (tmp) {\n            position = tmp;\n        }\n\n        due = getRandomDirection();\n\n        return {\n            \"new\": position,\n            \"old\": oldPos\n        };\n    };\n\n    return {\n        \"eat\": eat,\n        \"isVunerable\": isVunerable,\n        \"isDangerous\": isDangerous,\n        \"makeEatable\": makeEatable,\n        \"reset\": reset,\n        \"move\": move,\n        \"draw\": draw\n    };\n};\n\nPacman.User = function (game, map) {\n\n    var position = null,\n        direction = null,\n        eaten = null,\n        due = null,\n        lives = null,\n        score = 5,\n        keyMap = {};\n\n    keyMap[KEY.ARROW_LEFT] = LEFT;\n    keyMap[KEY.ARROW_UP] = UP;\n    keyMap[KEY.ARROW_RIGHT] = RIGHT;\n    keyMap[KEY.ARROW_DOWN] = DOWN;\n\n    function addScore(nScore) {\n        score += nScore;\n        if (score >= 10000 && score - nScore < 10000) {\n            lives += 1;\n        }\n\n        //connect to Vue component\n        window.setScore(score);\n    };\n\n    function theScore() {\n        return score;\n    };\n\n    function loseLife() {\n        lives -= 1;\n    };\n\n    function getLives() {\n        window.setlives(lives);\n        return lives;\n    };\n\n    function initUser() {\n        score = 0;\n        lives = 2;\n        newLevel();\n    }\n\n    function newLevel() {\n        resetPosition();\n        eaten = 0;\n    };\n\n    function resetPosition() {\n        position = { \"x\": 90, \"y\": 120 };\n        direction = LEFT;\n        due = LEFT;\n    };\n\n    function reset() {\n        initUser();\n        resetPosition();\n    };\n\n    function setDue(d) {\n        due = d;\n    }\n\n    function keyDown(e) {\n        if (typeof keyMap[e.keyCode] !== \"undefined\") {\n            due = keyMap[e.keyCode];\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n\n    function getNewCoord(dir, current) {\n        return {\n            \"x\": current.x + (dir === LEFT && -2 || dir === RIGHT && 2 || 0),\n            \"y\": current.y + (dir === DOWN && 2 || dir === UP && -2 || 0)\n        };\n    };\n\n    function onWholeSquare(x) {\n        return x % 10 === 0;\n    };\n\n    function pointToCoord(x) {\n        return Math.round(x / 10);\n    };\n\n    function nextSquare(x, dir) {\n        var rem = x % 10;\n        if (rem === 0) {\n            return x;\n        } else if (dir === RIGHT || dir === DOWN) {\n            return x + (10 - rem);\n        } else {\n            return x - rem;\n        }\n    };\n\n    function next(pos, dir) {\n        return {\n            \"y\": pointToCoord(nextSquare(pos.y, dir)),\n            \"x\": pointToCoord(nextSquare(pos.x, dir))\n        };\n    };\n\n    function onGridSquare(pos) {\n        return onWholeSquare(pos.y) && onWholeSquare(pos.x);\n    };\n\n    function isOnSamePlane(due, dir) {\n        return (due === LEFT || due === RIGHT) && (dir === LEFT || dir === RIGHT) || (due === UP || due === DOWN) && (dir === UP || dir === DOWN);\n    };\n\n    function move(ctx) {\n\n        var npos = null,\n            nextWhole = null,\n            oldPosition = position,\n            block = null;\n\n        if (due !== direction) {\n            npos = getNewCoord(due, position);\n\n            if (isOnSamePlane(due, direction) || onGridSquare(position) && map.isFloorSpace(next(npos, due))) {\n                direction = due;\n            } else {\n                npos = null;\n            }\n        }\n\n        if (npos === null) {\n            npos = getNewCoord(direction, position);\n        }\n\n        if (onGridSquare(position) && map.isWallSpace(next(npos, direction))) {\n            direction = NONE;\n        }\n\n        if (direction === NONE) {\n            return { \"new\": position, \"old\": position };\n        }\n\n        if (npos.y === 100 && npos.x >= 190 && direction === RIGHT) {\n            npos = { \"y\": 100, \"x\": -10 };\n        }\n\n        if (npos.y === 100 && npos.x <= -12 && direction === LEFT) {\n            npos = { \"y\": 100, \"x\": 190 };\n        }\n\n        position = npos;\n        nextWhole = next(position, direction);\n\n        block = map.block(nextWhole);\n\n        if ((isMidSquare(position.y) || isMidSquare(position.x)) && block === Pacman.BISCUIT || block === Pacman.PILL) {\n\n            map.setBlock(nextWhole, Pacman.EMPTY);\n            addScore(block === Pacman.BISCUIT ? 10 : 50);\n            eaten += 1;\n\n            if (eaten === 182) {\n                game.completedLevel();\n            }\n\n            if (block === Pacman.PILL) {\n                game.eatenPill();\n            }\n        }\n\n        return {\n            \"new\": position,\n            \"old\": oldPosition\n        };\n    };\n\n    function isMidSquare(x) {\n        var rem = x % 10;\n        return rem > 3 || rem < 7;\n    };\n\n    function calcAngle(dir, pos) {\n        if (dir == RIGHT && pos.x % 10 < 5) {\n            return { \"start\": 0.25, \"end\": 1.75, \"direction\": false };\n        } else if (dir === DOWN && pos.y % 10 < 5) {\n            return { \"start\": 0.75, \"end\": 2.25, \"direction\": false };\n        } else if (dir === UP && pos.y % 10 < 5) {\n            return { \"start\": 1.25, \"end\": 1.75, \"direction\": true };\n        } else if (dir === LEFT && pos.x % 10 < 5) {\n            return { \"start\": 0.75, \"end\": 1.25, \"direction\": true };\n        }\n        return { \"start\": 0, \"end\": 2, \"direction\": false };\n    };\n\n    function drawDead(ctx, amount) {\n\n        var size = map.blockSize,\n            half = size / 2;\n\n        if (amount >= 1) {\n            return;\n        }\n\n        ctx.fillStyle = \"#FFFF00\";\n        ctx.beginPath();\n        ctx.moveTo(position.x / 10 * size + half, position.y / 10 * size + half);\n\n        ctx.arc(position.x / 10 * size + half, position.y / 10 * size + half, half, 0, Math.PI * 2 * amount, true);\n\n        ctx.fill();\n    };\n\n    function draw(ctx) {\n\n        var s = map.blockSize,\n            angle = calcAngle(direction, position);\n\n        ctx.fillStyle = \"#FFFF00\";\n\n        ctx.beginPath();\n\n        ctx.moveTo(position.x / 10 * s + s / 2, position.y / 10 * s + s / 2);\n\n        ctx.arc(position.x / 10 * s + s / 2, position.y / 10 * s + s / 2, s / 2, Math.PI * angle.start, Math.PI * angle.end, angle.direction);\n\n        ctx.fill();\n    };\n\n    initUser();\n\n    return {\n        \"draw\": draw,\n        \"drawDead\": drawDead,\n        \"loseLife\": loseLife,\n        \"getLives\": getLives,\n        \"score\": score,\n        \"addScore\": addScore,\n        \"theScore\": theScore,\n        \"setDue\": setDue,\n        \"keyDown\": keyDown,\n        \"move\": move,\n        \"newLevel\": newLevel,\n        \"reset\": reset,\n        \"resetPosition\": resetPosition\n    };\n};\n\nPacman.Map = function (size) {\n\n    var height = null,\n        width = null,\n        blockSize = size,\n        pillSize = 0,\n        map = null;\n\n    function withinBounds(y, x) {\n        return y >= 0 && y < height && x >= 0 && x < width;\n    }\n\n    function isWall(pos) {\n        return withinBounds(pos.y, pos.x) && map[pos.y][pos.x] === Pacman.WALL;\n    }\n\n    function isFloorSpace(pos) {\n        if (!withinBounds(pos.y, pos.x)) {\n            return false;\n        }\n        var peice = map[pos.y][pos.x];\n        return peice === Pacman.EMPTY || peice === Pacman.BISCUIT || peice === Pacman.PILL;\n    }\n\n    function drawWall(ctx) {\n\n        var i, j, p, line;\n\n        ctx.strokeStyle = colorOrange;\n        ctx.lineWidth = blockSize / 3;\n        ctx.lineCap = \"round\";\n\n        for (var i = 0; i < Pacman.WALLS.length; i += 1) {\n            line = Pacman.WALLS[i];\n            ctx.beginPath();\n\n            for (var j = 0; j < line.length; j += 1) {\n\n                p = line[j];\n\n                if (p.move) {\n                    ctx.moveTo(p.move[0] * blockSize, p.move[1] * blockSize);\n                } else if (p.line) {\n                    ctx.lineTo(p.line[0] * blockSize, p.line[1] * blockSize);\n                } else if (p.curve) {\n                    ctx.quadraticCurveTo(p.curve[0] * blockSize, p.curve[1] * blockSize, p.curve[2] * blockSize, p.curve[3] * blockSize);\n                }\n            }\n            ctx.stroke();\n        }\n    }\n\n    function reset() {\n        map = JSON.parse(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(Pacman.MAP));\n        height = map.length;\n        width = map[0].length;\n    };\n\n    function block(pos) {\n        return map[pos.y][pos.x];\n    };\n\n    function setBlock(pos, type) {\n        map[pos.y][pos.x] = type;\n    };\n\n    function drawPills(ctx) {\n\n        for (var i = 0; i < height; i += 1) {\n            for (var j = 0; j < width; j += 1) {\n                if (map[i][j] === Pacman.PILL) {\n                    ctx.beginPath();\n\n                    ctx.fillStyle = colorBlue;\n                    ctx.fillRect(j * blockSize, i * blockSize, blockSize, blockSize);\n\n                    ctx.fillStyle = colorOrange;\n                    ctx.font = \"bold \" + blockSize / 2 + \"px Arial\";\n                    // ctx.arc((j * blockSize) + blockSize / 2,\n                    //         (i * blockSize) + blockSize / 2,\n                    //         5, \n                    //         0, \n                    //         Math.PI * 2, false); \n                    ctx.textAlign = \"center\";\n                    ctx.textBaseline = \"middle\";\n                    ctx.fillText(\"100\", j * blockSize + blockSize / 2, i * blockSize + blockSize / 2);\n                    ctx.fill();\n                    ctx.closePath();\n                }\n            }\n        }\n    };\n\n    function draw(ctx) {\n\n        var i,\n            j,\n            size = blockSize;\n\n        ctx.fillStyle = colorBlue;\n        ctx.fillRect(0, 0, width * size, height * size);\n\n        drawWall(ctx);\n\n        for (var i = 0; i < height; i += 1) {\n            for (var j = 0; j < width; j += 1) {\n                drawBlock(i, j, ctx);\n            }\n        }\n    };\n\n    function drawBlock(y, x, ctx) {\n\n        var layout = map[y][x];\n\n        if (layout === Pacman.PILL) {\n            return;\n        }\n\n        ctx.beginPath();\n\n        if (layout === Pacman.EMPTY || layout === Pacman.BLOCK || layout === Pacman.BISCUIT) {\n\n            ctx.fillStyle = colorBlue;\n            ctx.fillRect(x * blockSize, y * blockSize, blockSize, blockSize);\n\n            if (layout === Pacman.BISCUIT) {\n                ctx.fillStyle = \"#FFF\";\n                ctx.font = \"1px Arial\";\n                // ctx.fillText(\"100\",\n                //             (x * blockSize) + (blockSize / 2.5), \n                //              (y * blockSize) + (blockSize / 2.5));\n\n                ctx.fillRect(x * blockSize + blockSize / 2.5, y * blockSize + blockSize / 2.5, blockSize / 6, blockSize / 6);\n            }\n        }\n        ctx.closePath();\n    };\n\n    reset();\n\n    return {\n        \"draw\": draw,\n        \"drawBlock\": drawBlock,\n        \"drawPills\": drawPills,\n        \"block\": block,\n        \"setBlock\": setBlock,\n        \"reset\": reset,\n        \"isWallSpace\": isWall,\n        \"isFloorSpace\": isFloorSpace,\n        \"height\": height,\n        \"width\": width,\n        \"blockSize\": blockSize\n    };\n};\n\nPacman.Audio = function (game) {\n\n    var files = [],\n        endEvents = [],\n        progressEvents = [],\n        playing = [];\n\n    function load(name, path, cb) {\n\n        var f = files[name] = document.createElement(\"audio\");\n\n        progressEvents[name] = function (event) {\n            progress(event, name, cb);\n        };\n\n        if (files[name]) {\n            f.addEventListener(\"canplaythrough\", progressEvents[name], true);\n            f.setAttribute(\"preload\", \"true\");\n            f.setAttribute(\"autobuffer\", \"true\");\n            f.setAttribute(\"src\", path);\n            f.pause();\n        }\n    };\n\n    function progress(event, name, callback) {\n        if (event.loaded === event.total && typeof callback === \"function\") {\n            callback();\n            if (files[name]) {\n                files[name].removeEventListener(\"canplaythrough\", progressEvents[name], true);\n            }\n        }\n    };\n\n    function disableSound() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].pause();\n            files[playing[i]].currentTime = 0;\n        }\n        playing = [];\n    };\n\n    function ended(name) {\n\n        var i,\n            tmp = [],\n            found = false;\n\n        files[name].removeEventListener(\"ended\", endEvents[name], true);\n\n        for (var i = 0; i < playing.length; i++) {\n            if (!found && playing[i]) {\n                found = true;\n            } else {\n                tmp.push(playing[i]);\n            }\n        }\n        playing = tmp;\n    };\n\n    function play(name) {\n        console.log(\"audio trigger\");\n        if (files || files[name]) {\n            if (!game.soundDisabled()) {\n                endEvents[name] = function () {\n                    ended(name);\n                };\n                playing.push(name);\n                if (files[name]) {\n                    files[name].addEventListener(\"ended\", endEvents[name], true);\n                    files[name].play();\n                }\n            }\n        }\n    };\n\n    function pause() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].pause();\n        }\n    };\n\n    function resume() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].play();\n        }\n    };\n\n    return {\n        \"disableSound\": disableSound,\n        \"load\": load,\n        \"play\": play,\n        \"pause\": pause,\n        \"resume\": resume\n    };\n};\n\nvar PACMAN = function () {\n\n    var state = WAITING,\n        audio = null,\n        ghosts = [],\n        ghostSpecs = [colorLightBlue, colorPink, colorPurple, colorGreen],\n        eatenCount = 0,\n        level = 0,\n        tick = 0,\n        ghostPos,\n        userPos,\n        stateChanged = true,\n        timerStart = null,\n        lastTime = 0,\n        ctx = null,\n        timer = null,\n        map = null,\n        user = null,\n        stored = null;\n\n    function getTick() {\n        return tick;\n    };\n\n    function drawScore(text, position) {\n        ctx.fillStyle = \"#FFFFFF\";\n        ctx.font = \"12px BDCartoonShoutRegular\";\n        ctx.fillText(text, position[\"new\"][\"x\"] / 10 * map.blockSize, (position[\"new\"][\"y\"] + 5) / 10 * map.blockSize);\n    }\n\n    function dialog(text) {\n        ctx.fillStyle = \"#FFFFFF\";\n        ctx.font = map.blockSize + \" Arial\";\n        var width = ctx.measureText(text).width,\n            x = 22 * map.blockSize / 2 - width / 2;\n\n        ctx.fillText(text, x, (map.height * 10 + 8) * 2);\n    }\n\n    function soundDisabled() {\n        return localStorage[\"soundDisabled\"] === \"true\";\n    };\n\n    function startLevel() {\n        user.resetPosition();\n        for (var i = 0; i < ghosts.length; i += 1) {\n            ghosts[i].reset();\n        }\n        audio.play(\"start\");\n        timerStart = tick;\n        setState(COUNTDOWN);\n    }\n\n    function startNewGame() {\n        setState(WAITING);\n        level = 1;\n        user.reset();\n        map.reset();\n        map.draw(ctx);\n        startLevel();\n    }\n\n    function resumeGame() {\n        //audio.resume();\n        map.draw(ctx);\n        setState(stored);\n    }\n\n    function pauseGame() {\n        stored = state;\n        setState(PAUSE);\n\n        //audio.pause();\n        map.draw(ctx);\n        dialog(\"Paused\");\n    }\n\n    function Resume() {\n        //audio.resume();\n        map.draw(ctx);\n        setState(stored);\n    }\n\n    function keyDown(e) {\n        if (e.keyCode === KEY.N) {\n            startNewGame();\n        } else if (e.keyCode === KEY.S) {\n            audio.disableSound();\n            localStorage[\"soundDisabled\"] = !soundDisabled();\n        } else if (e.keyCode === KEY.P && state === PAUSE) {\n            audio.resume();\n            map.draw(ctx);\n            setState(stored);\n        } else if (e.keyCode === KEY.P) {\n            stored = state;\n            setState(PAUSE);\n            audio.pause();\n            map.draw(ctx);\n            dialog(\"Paused\");\n        } else if (state !== PAUSE) {\n            return user.keyDown(e);\n        }\n        return true;\n    }\n\n    //失去生命跟結束遊戲的判斷\n    function loseLife() {\n\n        // if (Math.random() > 0.5) {\n        //     window.eatenPill(\n        //         \"怎麼又粗心，考試都拿不到好成績\",\n\n        //     )\n\n        // } else {\n        //     window.eatenPill(\n        //         \"阿媽對你好失望.... 人家隔壁的小明都考得比你好\",\n\n        //     )\n        // }\n        setState(WAITING);\n        user.loseLife();\n\n        if (user.getLives() == 1) {\n            window.eatenPill(\"有些迷宮一但進去就走不出來，就像你的人生一樣…\");\n        }\n\n        if (user.getLives() > 0) {\n            startLevel();\n        } else {\n            window.toSceneDead(\"其實你從開始就應該試試看不同的方向\");\n        }\n    }\n\n    function setState(nState) {\n        state = nState;\n        stateChanged = true;\n    };\n\n    function collided(user, ghost) {\n        return Math.sqrt(Math.pow(ghost.x - user.x, 2) + Math.pow(ghost.y - user.y, 2)) < 10;\n    };\n\n    function drawFooter() {\n\n        // var topLeft  = (map.height * map.blockSize),\n        //     textBase = topLeft + 17;\n\n        // ctx.fillStyle = colorOrange;\n        // ctx.fillRect(0, topLeft, (map.width * map.blockSize), 30);\n\n        // ctx.fillStyle = \"#FFFF00\";\n\n        // for (var i = 0, len = user.getLives(); i < len; i++) {\n        //     ctx.fillStyle = \"#FFFF00\";\n        //     ctx.beginPath();\n        //     ctx.moveTo(150 + (25 * i) + map.blockSize / 2,\n        //                (topLeft+1) + map.blockSize / 2);\n\n        //     ctx.arc(150 + (25 * i) + map.blockSize / 2,\n        //             (topLeft+1) + map.blockSize / 2,\n        //             map.blockSize / 2, Math.PI * 0.25, Math.PI * 1.75, false);\n        //     ctx.fill();\n        // }\n\n        // ctx.fillStyle = !soundDisabled() ? \"#00FF00\" : \"#FF0000\";\n        // ctx.font = \"bold 16px sans-serif\";\n        // //ctx.fillText(\"♪\", 10, textBase);\n        // ctx.fillText(\"s\", 10, textBase);\n\n        // ctx.fillStyle = \"#FFFF00\";\n        // ctx.font      = \"14px BDCartoonShoutRegular\";\n        // ctx.fillText(\"Score: \" + user.theScore(), 30, textBase);\n        // ctx.fillText(\"Level: \" + level, 260, textBase);\n\n\n    }\n\n    function redrawBlock(pos) {\n        map.drawBlock(Math.floor(pos.y / 10), Math.floor(pos.x / 10), ctx);\n        map.drawBlock(Math.ceil(pos.y / 10), Math.ceil(pos.x / 10), ctx);\n    }\n\n    function mainDraw() {\n\n        var diff, u, i, len, nScore;\n\n        ghostPos = [];\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            ghostPos.push(ghosts[i].move(ctx));\n        }\n        u = user.move(ctx);\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            redrawBlock(ghostPos[i].old);\n        }\n        redrawBlock(u.old);\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            ghosts[i].draw(ctx);\n        }\n        user.draw(ctx);\n\n        userPos = u[\"new\"];\n\n        //被鬼碰到\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            if (collided(userPos, ghostPos[i][\"new\"])) {\n                if (ghosts[i].isVunerable()) {\n                    eatenCount += 1;\n                    nScore = eatenCount * 50;\n                    drawScore(nScore, ghostPos[i]);\n                    user.addScore(nScore);\n\n                    setState(EATEN_PAUSE);\n                    timerStart = tick;\n                    audio.play(\"eatghost\");\n                    ghosts[i].eat();\n                } else if (ghosts[i].isDangerous()) {\n                    setState(DYING);\n                    timerStart = tick;\n                    audio.play(\"die\");\n                }\n            }\n        }\n    };\n\n    //主要遊戲迴圈\n    function mainLoop() {\n        //console.log(\"l\")\n        var diff;\n\n        if (state !== PAUSE) {\n            ++tick;\n        }\n\n        map.drawPills(ctx);\n\n        if (state === PLAYING) {\n            mainDraw();\n        } else if (state === WAITING && stateChanged) {\n            stateChanged = false;\n            map.draw(ctx);\n            // dialog(\"Press N to start a New game\");            \n        } else if (state === EATEN_PAUSE && tick - timerStart > Pacman.FPS / 3) {\n            map.draw(ctx);\n            setState(PLAYING);\n        } else if (state === DYING) {\n            if (tick - timerStart > Pacman.FPS * 2) {\n                loseLife();\n            } else {\n                redrawBlock(userPos);\n                for (var i = 0, len = ghosts.length; i < len; i += 1) {\n                    redrawBlock(ghostPos[i].old);\n                    ghostPos.push(ghosts[i].draw(ctx));\n                }\n                user.drawDead(ctx, (tick - timerStart) * 2 / (Pacman.FPS * 2));\n            }\n        } else if (state === COUNTDOWN) {\n\n            diff = 5 + Math.floor((timerStart - tick) / Pacman.FPS);\n\n            if (diff === 0) {\n                map.draw(ctx);\n                setState(PLAYING);\n            } else {\n                if (diff !== lastTime) {\n                    lastTime = diff;\n                    map.draw(ctx);\n\n                    dialog(\"Starting in: \" + diff);\n                }\n            }\n        }\n\n        drawFooter();\n    }\n\n    function eatenPill() {\n        timerStart = tick;\n        eatenCount = 0;\n        for (var i = 0; i < ghosts.length; i += 1) {\n            ghosts[i].makeEatable(ctx);\n        }\n        if (Math.random() > 0.5) {\n\n            window.eatenPill(\"乖孫啊你好棒，拿了100分一定會出人頭地的\");\n        } else {\n\n            window.eatenPill(\"哇 100分，阿罵知道你最聽話了\");\n        }\n        audio.play(\"eatpill\");\n    };\n\n    function completedLevel() {\n        setState(WAITING);\n        level += 1;\n        map.reset();\n        user.newLevel();\n        startLevel();\n        window.userCompleteLevel();\n    };\n\n    function keyPress(e) {\n        if (state !== WAITING && state !== PAUSE) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n\n    function init(wrapper, root) {\n\n        wrapper.innerHTML = \"\";\n        // var scale = 2;\n        var i,\n            len,\n            ghost,\n            blockSize = wrapper.offsetWidth / 16,\n            canvas = document.createElement(\"canvas\");\n\n        var ww = window.innerWidth;\n\n        if (ww < 700) {\n            blockSize = ww / 26;\n        }\n\n        var wh = window.innerHeight;\n        var oriheight = blockSize * 22;\n        var oriwidth = blockSize * 22;\n        var ratio = ww / oriwidth;\n        var ratio2 = wh / oriheight;\n\n        var useRatio = ratio < ratio2 ? ratio : ratio2;\n\n        canvas.setAttribute(\"width\", blockSize * 19 * useRatio + \"px\");\n        canvas.setAttribute(\"height\", blockSize * 22 * useRatio + \"px\");\n\n        wrapper.appendChild(canvas);\n\n        ctx = canvas.getContext('2d');\n        ctx.scale(useRatio, useRatio);\n\n        audio = new Pacman.Audio({ \"soundDisabled\": soundDisabled });\n        map = new Pacman.Map(blockSize);\n        user = new Pacman.User({\n            \"completedLevel\": completedLevel,\n            \"eatenPill\": eatenPill\n        }, map);\n\n        ghosts = [];\n        for (var i = 0, len = ghostSpecs.length; i < len; i += 1) {\n            var _ghost = new Pacman.Ghost({ \"getTick\": getTick }, map, ghostSpecs[i]);\n            ghosts.push(_ghost);\n        }\n\n        map.draw(ctx);\n\n        // safari crash on mobile audio\n        loaded();\n\n        dialog(\"Loading ...\");\n\n        var extension = Modernizr.audio.ogg ? 'ogg' : 'mp3';\n\n        var audio_files = [[\"start\", root + \"audio/opening_song.\" + extension], [\"die\", root + \"audio/die.\" + extension], [\"eatghost\", root + \"audio/eatghost.\" + extension], [\"eatpill\", root + \"audio/eatpill.\" + extension], [\"eating\", root + \"audio/eating.short.\" + extension], [\"eating2\", root + \"audio/eating.short.\" + extension]];\n\n        load(audio_files, function () {});\n\n        console.log(\"init complete\");\n    };\n\n    function load(arr, callback) {\n\n        if (arr.length === 0) {\n            callback();\n        } else {\n            var x = arr.pop();\n            audio.load(x[0], x[1], function () {\n                load(arr, callback);\n            });\n        }\n    };\n\n    function loaded() {\n\n        // dialog(\"Press N to Start\");\n        timer = setInterval(mainLoop, 1000 / Pacman.FPS);\n        document.addEventListener(\"keydown\", keyDown, false);\n        document.addEventListener(\"keypress\", keyPress, false);\n    };\n\n    return {\n        init: init,\n        startNewGame: startNewGame,\n        keyDown: keyDown,\n        keyPress: keyPress,\n        startLevel: startLevel,\n        pauseGame: pauseGame,\n        resumeGame: resumeGame,\n        setState: setState,\n        sendkey: function sendkey(k) {\n            user.setDue(k);\n            console.log(\"pac receive key: \" + k);\n        }\n    };\n}();\n\n/* Human readable keyCode index */\nvar KEY = (_KEY = { 'BACKSPACE': 8, 'TAB': 9, 'NUM_PAD_CLEAR': 12, 'ENTER': 13, 'SHIFT': 16, 'CTRL': 17, 'ALT': 18, 'PAUSE': 19, 'CAPS_LOCK': 20, 'ESCAPE': 27, 'SPACEBAR': 32, 'PAGE_UP': 33, 'PAGE_DOWN': 34, 'END': 35, 'HOME': 36, 'ARROW_LEFT': 37, 'ARROW_UP': 38, 'ARROW_RIGHT': 39, 'ARROW_DOWN': 40, 'PRINT_SCREEN': 44, 'INSERT': 45, 'DELETE': 46, 'SEMICOLON': 59, 'WINDOWS_LEFT': 91, 'WINDOWS_RIGHT': 92, 'SELECT': 93, 'NUM_PAD_ASTERISK': 106, 'NUM_PAD_PLUS_SIGN': 107, 'NUM_PAD_HYPHEN-MINUS': 109, 'NUM_PAD_FULL_STOP': 110, 'NUM_PAD_SOLIDUS': 111, 'NUM_LOCK': 144, 'SCROLL_LOCK': 145 }, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, \"SEMICOLON\", 186), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'EQUALS_SIGN', 187), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'COMMA', 188), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'HYPHEN-MINUS', 189), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'FULL_STOP', 190), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'SOLIDUS', 191), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'GRAVE_ACCENT', 192), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'LEFT_SQUARE_BRACKET', 219), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'REVERSE_SOLIDUS', 220), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'RIGHT_SQUARE_BRACKET', 221), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_KEY, 'APOSTROPHE', 222), _KEY);\n\n(function () {\n    /* 0 - 9 */\n    for (var i = 48; i <= 57; i++) {\n        KEY['' + (i - 48)] = i;\n    }\n    /* A - Z */\n    for (var i = 65; i <= 90; i++) {\n        KEY['' + String.fromCharCode(i)] = i;\n    }\n    /* NUM_PAD_0 - NUM_PAD_9 */\n    for (var i = 96; i <= 105; i++) {\n        KEY['NUM_PAD_' + (i - 96)] = i;\n    }\n    /* F1 - F12 */\n    for (var i = 112; i <= 123; i++) {\n        KEY['F' + (i - 112 + 1)] = i;\n    }\n})();\n\nPacman.WALL = 0;\nPacman.BISCUIT = 1;\nPacman.EMPTY = 2;\nPacman.BLOCK = 3;\nPacman.PILL = 4;\n\nPacman.MAP = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0], [0, 4, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 4, 0], [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0], [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0], [0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0], [0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0], [0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0], [2, 2, 2, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 2, 2, 2], [0, 0, 0, 0, 1, 0, 1, 0, 0, 3, 0, 0, 1, 0, 1, 0, 0, 0, 0], [2, 2, 2, 2, 1, 1, 1, 0, 3, 3, 3, 0, 1, 1, 1, 2, 2, 2, 2], [0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0], [2, 2, 2, 0, 1, 0, 1, 1, 1, 2, 1, 1, 1, 0, 1, 0, 2, 2, 2], [0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0], [0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0], [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0], [0, 4, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 4, 0], [0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0], [0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0], [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0], [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n\nPacman.WALLS = [[{ \"move\": [0, 9.5] }, { \"line\": [3, 9.5] }, { \"curve\": [3.5, 9.5, 3.5, 9] }, { \"line\": [3.5, 8] }, { \"curve\": [3.5, 7.5, 3, 7.5] }, { \"line\": [1, 7.5] }, { \"curve\": [0.5, 7.5, 0.5, 7] }, { \"line\": [0.5, 1] }, { \"curve\": [0.5, 0.5, 1, 0.5] }, { \"line\": [9, 0.5] }, { \"curve\": [9.5, 0.5, 9.5, 1] }, { \"line\": [9.5, 3.5] }], [{ \"move\": [9.5, 1] }, { \"curve\": [9.5, 0.5, 10, 0.5] }, { \"line\": [18, 0.5] }, { \"curve\": [18.5, 0.5, 18.5, 1] }, { \"line\": [18.5, 7] }, { \"curve\": [18.5, 7.5, 18, 7.5] }, { \"line\": [16, 7.5] }, { \"curve\": [15.5, 7.5, 15.5, 8] }, { \"line\": [15.5, 9] }, { \"curve\": [15.5, 9.5, 16, 9.5] }, { \"line\": [19, 9.5] }], [{ \"move\": [2.5, 5.5] }, { \"line\": [3.5, 5.5] }], [{ \"move\": [3, 2.5] }, { \"curve\": [3.5, 2.5, 3.5, 3] }, { \"curve\": [3.5, 3.5, 3, 3.5] }, { \"curve\": [2.5, 3.5, 2.5, 3] }, { \"curve\": [2.5, 2.5, 3, 2.5] }], [{ \"move\": [15.5, 5.5] }, { \"line\": [16.5, 5.5] }], [{ \"move\": [16, 2.5] }, { \"curve\": [16.5, 2.5, 16.5, 3] }, { \"curve\": [16.5, 3.5, 16, 3.5] }, { \"curve\": [15.5, 3.5, 15.5, 3] }, { \"curve\": [15.5, 2.5, 16, 2.5] }], [{ \"move\": [6, 2.5] }, { \"line\": [7, 2.5] }, { \"curve\": [7.5, 2.5, 7.5, 3] }, { \"curve\": [7.5, 3.5, 7, 3.5] }, { \"line\": [6, 3.5] }, { \"curve\": [5.5, 3.5, 5.5, 3] }, { \"curve\": [5.5, 2.5, 6, 2.5] }], [{ \"move\": [12, 2.5] }, { \"line\": [13, 2.5] }, { \"curve\": [13.5, 2.5, 13.5, 3] }, { \"curve\": [13.5, 3.5, 13, 3.5] }, { \"line\": [12, 3.5] }, { \"curve\": [11.5, 3.5, 11.5, 3] }, { \"curve\": [11.5, 2.5, 12, 2.5] }], [{ \"move\": [7.5, 5.5] }, { \"line\": [9, 5.5] }, { \"curve\": [9.5, 5.5, 9.5, 6] }, { \"line\": [9.5, 7.5] }], [{ \"move\": [9.5, 6] }, { \"curve\": [9.5, 5.5, 10.5, 5.5] }, { \"line\": [11.5, 5.5] }], [{ \"move\": [5.5, 5.5] }, { \"line\": [5.5, 7] }, { \"curve\": [5.5, 7.5, 6, 7.5] }, { \"line\": [7.5, 7.5] }], [{ \"move\": [6, 7.5] }, { \"curve\": [5.5, 7.5, 5.5, 8] }, { \"line\": [5.5, 9.5] }], [{ \"move\": [13.5, 5.5] }, { \"line\": [13.5, 7] }, { \"curve\": [13.5, 7.5, 13, 7.5] }, { \"line\": [11.5, 7.5] }], [{ \"move\": [13, 7.5] }, { \"curve\": [13.5, 7.5, 13.5, 8] }, { \"line\": [13.5, 9.5] }], [{ \"move\": [0, 11.5] }, { \"line\": [3, 11.5] }, { \"curve\": [3.5, 11.5, 3.5, 12] }, { \"line\": [3.5, 13] }, { \"curve\": [3.5, 13.5, 3, 13.5] }, { \"line\": [1, 13.5] }, { \"curve\": [0.5, 13.5, 0.5, 14] }, { \"line\": [0.5, 17] }, { \"curve\": [0.5, 17.5, 1, 17.5] }, { \"line\": [1.5, 17.5] }], [{ \"move\": [1, 17.5] }, { \"curve\": [0.5, 17.5, 0.5, 18] }, { \"line\": [0.5, 21] }, { \"curve\": [0.5, 21.5, 1, 21.5] }, { \"line\": [18, 21.5] }, { \"curve\": [18.5, 21.5, 18.5, 21] }, { \"line\": [18.5, 18] }, { \"curve\": [18.5, 17.5, 18, 17.5] }, { \"line\": [17.5, 17.5] }], [{ \"move\": [18, 17.5] }, { \"curve\": [18.5, 17.5, 18.5, 17] }, { \"line\": [18.5, 14] }, { \"curve\": [18.5, 13.5, 18, 13.5] }, { \"line\": [16, 13.5] }, { \"curve\": [15.5, 13.5, 15.5, 13] }, { \"line\": [15.5, 12] }, { \"curve\": [15.5, 11.5, 16, 11.5] }, { \"line\": [19, 11.5] }], [{ \"move\": [5.5, 11.5] }, { \"line\": [5.5, 13.5] }], [{ \"move\": [13.5, 11.5] }, { \"line\": [13.5, 13.5] }], [{ \"move\": [2.5, 15.5] }, { \"line\": [3, 15.5] }, { \"curve\": [3.5, 15.5, 3.5, 16] }, { \"line\": [3.5, 17.5] }], [{ \"move\": [16.5, 15.5] }, { \"line\": [16, 15.5] }, { \"curve\": [15.5, 15.5, 15.5, 16] }, { \"line\": [15.5, 17.5] }], [{ \"move\": [5.5, 15.5] }, { \"line\": [7.5, 15.5] }], [{ \"move\": [11.5, 15.5] }, { \"line\": [13.5, 15.5] }], [{ \"move\": [2.5, 19.5] }, { \"line\": [5, 19.5] }, { \"curve\": [5.5, 19.5, 5.5, 19] }, { \"line\": [5.5, 17.5] }], [{ \"move\": [5.5, 19] }, { \"curve\": [5.5, 19.5, 6, 19.5] }, { \"line\": [7.5, 19.5] }], [{ \"move\": [11.5, 19.5] }, { \"line\": [13, 19.5] }, { \"curve\": [13.5, 19.5, 13.5, 19] }, { \"line\": [13.5, 17.5] }], [{ \"move\": [13.5, 19] }, { \"curve\": [13.5, 19.5, 14, 19.5] }, { \"line\": [16.5, 19.5] }], [{ \"move\": [7.5, 13.5] }, { \"line\": [9, 13.5] }, { \"curve\": [9.5, 13.5, 9.5, 14] }, { \"line\": [9.5, 15.5] }], [{ \"move\": [9.5, 14] }, { \"curve\": [9.5, 13.5, 10, 13.5] }, { \"line\": [11.5, 13.5] }], [{ \"move\": [7.5, 17.5] }, { \"line\": [9, 17.5] }, { \"curve\": [9.5, 17.5, 9.5, 18] }, { \"line\": [9.5, 19.5] }], [{ \"move\": [9.5, 18] }, { \"curve\": [9.5, 17.5, 10, 17.5] }, { \"line\": [11.5, 17.5] }], [{ \"move\": [8.5, 9.5] }, { \"line\": [8, 9.5] }, { \"curve\": [7.5, 9.5, 7.5, 10] }, { \"line\": [7.5, 11] }, { \"curve\": [7.5, 11.5, 8, 11.5] }, { \"line\": [11, 11.5] }, { \"curve\": [11.5, 11.5, 11.5, 11] }, { \"line\": [11.5, 10] }, { \"curve\": [11.5, 9.5, 11, 9.5] }, { \"line\": [10.5, 9.5] }]];\n\n/*\nObject.prototype.clone = function () {\n    var i, newObj = (this instanceof Array) ? [] : {};\n    for (var i in this) {\n        if (i === 'clone') {\n            continue;\n        }\n        if (this[i] && typeof this[i] === \"object\") {\n            newObj[i] = this[i].clone();\n        } else {\n            newObj[i] = this[i];\n        }\n    }\n    return newObj;\n};\n*/\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PACMAN);\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(85)\n}\nvar Component = __webpack_require__(38)(\n  /* script */\n  __webpack_require__(43),\n  /* template */\n  __webpack_require__(89),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3e3487d8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container-fluid\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('img', {\n    staticClass: \"logo\",\n    attrs: {\n      \"src\": \"static/img/Header/Logo.svg\"\n    }\n  }), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"gameIndex\"\n  }, [_c('div', {\n    staticClass: \"gamePad\"\n  }, [_c('div', {\n    staticClass: \"direction\"\n  }, [_c('img', {\n    staticClass: \"up\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Up.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('up')\n      }\n    }\n  }), _c('div', {\n    staticClass: \"lr\"\n  }, [_c('img', {\n    staticClass: \"left\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Left.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('left')\n      }\n    }\n  }), _c('div', {\n    staticClass: \"cblock\"\n  }), _c('img', {\n    staticClass: \"right\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Right.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('right')\n      }\n    }\n  })]), _c('img', {\n    staticClass: \"down\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Down.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('down')\n      }\n    }\n  })]), _c('div', {\n    staticClass: \"buttons\"\n  }, [_c('img', {\n    staticClass: \"a\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/A.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('a')\n      }\n    }\n  }), _c('img', {\n    staticClass: \"b\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/B.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('b')\n      }\n    }\n  })])]), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [(_vm.dialogState) ? _c('div', {\n    staticClass: \"dialog row\"\n  }, [_c('div', {\n    staticClass: \"col-3 colAvator\"\n  }, [_c('img', {\n    staticClass: \"dialogAvatar\",\n    attrs: {\n      \"src\": _vm.dialogAvatar\n    }\n  })]), _c('div', {\n    staticClass: \"col-9 colContent\"\n  }, [_c('p', {\n    staticClass: \"content\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.dialogContent)\n    }\n  }), _c('img', {\n    staticClass: \"dailogAction\",\n    attrs: {\n      \"src\": \"static/img/Dialog/Action.svg\"\n    },\n    on: {\n      \"click\": _vm.dailogAction\n    }\n  })])]) : _vm._e()]), _c('transition-group', {\n    attrs: {\n      \"tag\": \"div\",\n      \"name\": \"fade\"\n    }\n  }, [(_vm.gameScene == 'index') ? _c('div', {\n    key: \"index\",\n    staticClass: \"sceneIndex container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row rowIndex\"\n  }, [_c('div', {\n    staticClass: \"col-sm-4 col-12 align-self-end order-sm-first offset-sm-0\"\n  }, [_c('img', {\n    staticClass: \"castle\",\n    attrs: {\n      \"src\": \"static/img/School.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacman hidden-sm-up\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })]), _c('div', {\n    staticClass: \"col-sm-8 align-self-center\"\n  }, [_c('h4', {\n    staticClass: \"row row_indexRightplace\"\n  }, [_c('div', {\n    staticClass: \"col-1\"\n  }, [_c('img', {\n    staticClass: \"check\",\n    attrs: {\n      \"src\": \"static/img/Check.svg\"\n    }\n  })]), _c('div', {\n    staticClass: \"col-10\"\n  }, [_c('p', {\n    staticClass: \"indexRightplaceText\"\n  }, [_c('span', {\n    staticClass: \"hidden-sm-down\"\n  }, [_vm._v(\"別懷疑，你沒來錯地方\"), _c('br'), _vm._v(\"但雜學校募資頁在哪呢？就要靠你自己拿到分數看到了\")]), _c('span', {\n    staticClass: \"hidden-sm-up\"\n  }, [_vm._v(\"你沒來錯地方\"), _c('br'), _vm._v(\"但雜學校募資頁\"), _c('br'), _vm._v(\"要靠拿高分才能找到（笑\")])])])]), _c('br'), _c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"聽說只要拿100分\")]), _c('h2', {\n    staticClass: \"title2\"\n  }, [_vm._v(\"人生就會一片光明呢\")]), _c('h3', {\n    staticClass: \"start\"\n  }, [_vm._v(\"往左開始進入中華民國教育迷宮\"), _c('br'), _vm._v(\"盡可能的拿到高分數炫耀吧！！\")]), _c('div', {\n    staticClass: \"prompt\"\n  }, [_vm._v(\"Press A or  \"), _c('img', {\n    staticStyle: {\n      \"transform\": \"rotate(180deg) scale(0.7)\"\n    },\n    attrs: {\n      \"src\": \"static/img/Dialog/Action.svg\"\n    }\n  }), _vm._v(\" to Start.\")]), _c('br'), _c('br'), _c('br'), _c('img', {\n    staticClass: \"pacman hidden-xs-down\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'game') ? _c('div', {\n    key: \"game\",\n    staticClass: \"sceneGame container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-2 colGameInfo order-sm-last\"\n  }, [_c('h2', [_vm._v(\"中華民國の教育迷宮\")]), _c('h3', [_vm._v(\"Score:\" + _vm._s(_vm.gameScore)), _c('br', {\n    staticClass: \"hidden-xs-down\"\n  }), _vm._l((_vm.paclives), function(l) {\n    return _c('img', {\n      staticClass: \"pacmanlive\",\n      attrs: {\n        \"src\": \"static/img/Pacman/Normal.svg\"\n      }\n    })\n  })], 2), _c('h4', {\n    staticClass: \"hidden-xs-down\"\n  }, [_vm._v(\"按B回到首頁\")])]), _c('div', {\n    staticClass: \"col-12 col-sm-10 order-sm-first-down\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"pacman\"\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'grave') ? _c('div', {\n    key: \"game\",\n    staticClass: \"sceneGrave container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-5 col-sm-7\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('div', {\n    staticClass: \"hidden-xs-down\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  })])]), _c('div', {\n    staticClass: \"col-3 col-sm-2\"\n  }, [_c('img', {\n    staticClass: \"pacman\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })]), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('div', {\n    staticClass: \"col-sm-4\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'door') ? _c('div', {\n    key: \"door\",\n    staticClass: \"sceneDoor container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-12\"\n  }, [_c('br'), _c('br'), _c('br'), _c('h1', [_vm._v(\"什麼！？ \"), _c('br'), _vm._v(\"真虧你能找到這\")]), _c('h2', [_vm._v(\"下面的門就是了\")]), _c('br'), _c('h3', [_vm._v(\"你尋覓著，給予跳脫框架者的舞台\")]), _c('h1', [_vm._v(\"雜學校\")]), _c('h3', [_vm._v(\"往下一起探索教育的面貌吧!\")])])]), _c('div', {\n    staticClass: \"coverBlue\"\n  }), _c('img', {\n    staticClass: \"pacman\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  }), _c('img', {\n    staticClass: \"door\",\n    attrs: {\n      \"src\": \"static/img/Door.svg\"\n    }\n  })]) : _vm._e(), (_vm.gameScene == 'dead') ? _c('div', {\n    key: \"dead\",\n    staticClass: \"sceneDead container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-6\"\n  }, [_c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('h1', [_vm._v(\"你在中華民國教育體制裡\")]), _c('h2', [_vm._v(\"就這麼失敗了\")]), _c('h2', [_vm._v(\"重頭來一遍？\")])]), _c('div', {\n    staticClass: \"col-sm-6\"\n  }, [_c('h5', {\n    staticClass: \"pressprompt\"\n  }, [_vm._v(\"Press A to Restart.\")])])])]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n},[44]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.01cb81c362fc3cef7b80.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Hello from '@/components/Hello'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Hello',\n      component: Hello\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03066db6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03066db6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 41\n// module chunks = 1","<template lang=\"pug\">\n#app.container-fluid\n  img.logo(src='static/img/Header/Logo.svg')\n\n  router-view\n</template>\n\n<script>\nexport default {\n  name: 'app',\n}\n</script>\n\n<style lang=\"sass\">\n@import url(https://fonts.googleapis.com/earlyaccess/notosanstc.css)\n@import \"../node_modules/bootstrap/scss/bootstrap.scss\"\n$colorBlue: #0047BA\n$colorOrange: #FF4C00\n\n*\n  position: relative\n\nhtml,body\n  background-color: $colorBlue\n  color: white\n  font-family: 'Noto Sans TC','微軟正黑體', sans-serif\n  -webkit-font-smoothing: antialiased\n  -moz-osx-font-smoothing: grayscale\n  width: 100%\n  height: 100%\n  margin: 0\n  overflow: hidden\n\nbody\n  $gridColor: rgba(white,0.05)\n  background: linear-gradient($gridColor 0%, $gridColor 5% ,transparent 5%, transparent 100%),linear-gradient(90deg,$gridColor 0%, $gridColor 5% ,transparent 5%, transparent 100%)\n  background-size: 20px 20px\n\n.gamePad\n  position: fixed\n  right: 100px\n  bottom: 50px\n  z-index: 10\n  display: flex\n\n  .buttons\n    margin-left: 50px\n    display: flex\n    align-items: flex-end\n\n    img\n      filter: brightness(120%)   \n  .a\n    margin-bottom: 40px\n    \n  \n  .direction\n    // position: absolute\n    // right: 50px\n    // bottom: 100px\n    display: flex\n    // width: 500px\n    // height: 500px\n    flex-direction: column\n    justify-content: center\n    cursor: pointer\n    .lr\n      display: flex\n      .cblock\n        width: 50px\n        height: 50px\n        background-color: white\n    img:hover\n      opacity: 0.8\n  img\n    cursor: pointer\n  img:hover\n    opacity: 0.8\n      \n      \n\nh1\n  font-size: 84px\n  font-weight: 900\n  margin: 30px 0px\n  margin-top: 0px\nh2\n  font-size: 52px\n  margin: 30px 0px\nh3\n  font-size: 27px\n  margin: 30px 0px\n  line-height: 43px\nh4\n  font-size: 24px\n  margin: 20px 0px\n  line-height: 43px\n//h4\n  font-size: 84px\n//h5\n  font-size: 84px\n//h6\n  font-size: 84px\n.prompt\n  font-size: 24px\n  color: $colorOrange\n\n\n.logo\n  position: fixed\n  right: 50px\n  top: 50px\n  \n\n.dialog\n  position: fixed\n  width: calc( 100vw - 8vmin )\n  // height: 200px\n  margin: 4vmin\n  left: 0\n  box-sizing: border-box\n\n  background-color: white\n  bottom: 0\n  padding: 5vmin\n  z-index: 100\n\n  .colAvator\n    img\n      max-width: 100%\n\n\n  .content\n    font-size: 28px\n    color: #222\n    letter-spacing: 1px\n\n\n  .dailogAction\n    position: absolute\n    right: -10px\n    bottom: -10px\n    width: 30px\n    cursor: pointer\n    &:hover\n      opacity: 0.8\n\n@media screen and (max-width: 800px)\n  h1\n    font-size: 40px\n    font-weight: 900\n    margin: 10px 0px\n  h2\n    font-size: 32px\n    margin: 10px 0px\n  h3\n    font-size: 20px\n    margin: 10px 0px\n    line-height: 30px\n  h4\n    font-size: 16px\n    margin: 0px 0px\n    line-height: 43px\n\n  p\n    line-height: 25px\n\n  .dialog\n    .content\n      font-size: 18px\n      line-height: 30px\n\n  .row_indexRightplace\n    position: fixed\n    left: 10px\n    top: 10px\n\n  .sceneIndex\n    \n  .gamePad\n    transform: scale(0.7)\n    right: 0px\n    bottom: 0px\n\n  .logo\n    right: 20px\n    top: 20px\n    width: 40vmin\n  \n  .sceneGrave\n    .grave\n      width: 20vw\n    .pacmandead\n      width: 15vw\n\n  .sceneDoor\n    .door\n      max-height: 400px\n\n#app\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?fe7c0738","<template lang=\"pug\">\n.gameIndex\n  .gamePad\n    .direction\n      img.up(src='static/img/GamePad/Button/Up.svg', @click = \"press('up')\")\n      .lr\n        img.left(src='static/img/GamePad/Button/Left.svg', @click = \"press('left')\")\n        .cblock\n        img.right(src='static/img/GamePad/Button/Right.svg', @click = \"press('right')\")\n      img.down(src='static/img/GamePad/Button/Down.svg', @click = \"press('down')\")\n    .buttons\n      img.a(src='static/img/GamePad/Button/A.svg', @click = \"press('a')\")\n      img.b(src='static/img/GamePad/Button/B.svg', @click = \"press('b')\")\n  transition(name=\"fade\")\n    .dialog.row(v-if=\"dialogState\")\n      .col-3.colAvator\n        img.dialogAvatar(:src=\"dialogAvatar\")\n      .col-9.colContent\n        p.content(v-html=\"dialogContent\")\n        img.dailogAction(src=\"static/img/Dialog/Action.svg\",@click=\"dailogAction\")\n  transition-group(tag=\"div\", name=\"fade\")\n    .sceneIndex.container-fluid(key=\"index\", v-if=\"gameScene=='index'\")\n      \n      .row.rowIndex\n        .col-sm-4.col-12.align-self-end.order-sm-first.offset-sm-0\n          img(src=\"static/img/School.svg\").castle\n          img.pacman.hidden-sm-up(:src=\"pacimg\")\n        .col-sm-8.align-self-center\n          h4.row.row_indexRightplace\n            .col-1\n              img.check(src=\"static/img/Check.svg\")\n            .col-10\n              p.indexRightplaceText\n                span.hidden-sm-down 別懷疑，你沒來錯地方<br>但雜學校募資頁在哪呢？就要靠你自己拿到分數看到了\n                span.hidden-sm-up 你沒來錯地方<br>但雜學校募資頁<br>要靠拿高分才能找到（笑\n          br\n          h1.title 聽說只要拿100分\n          h2.title2 人生就會一片光明呢\n          h3.start 往左開始進入中華民國教育迷宮<br>盡可能的拿到高分數炫耀吧！！\n          .prompt Press A or  \n            img(src=\"static/img/Dialog/Action.svg\" style=\"transform: rotate(180deg) scale(0.7)\")\n            |  to Start.\n          br\n          br\n          br\n          img.pacman.hidden-xs-down(:src=\"pacimg\")\n\n    .sceneGame.container-fluid(key=\"game\",v-if=\"gameScene=='game'\")\n      .row\n        .col-sm-2.colGameInfo.order-sm-last\n          h2 中華民國の教育迷宮\n          h3 Score:{{gameScore}}\n            br.hidden-xs-down\n            img.pacmanlive(src=\"static/img/Pacman/Normal.svg\",\n                v-for=\"l in paclives\")\n          h4.hidden-xs-down 按B回到首頁\n        .col-12.col-sm-10.order-sm-first-down\n          #pacman\n\n\n    .sceneGrave.container-fluid(key=\"game\",v-if=\"gameScene=='grave'\")\n\n      .row\n        .col-5.col-sm-7\n          img.grave(src=\"static/img/grave.svg\")\n          img.grave(src=\"static/img/grave.svg\")\n          img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n          img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n          br\n          br\n\n          img.grave(src=\"static/img/grave.svg\")\n          br\n\n          img.grave(src=\"static/img/grave.svg\")\n          img.grave(src=\"static/img/grave.svg\")\n          img.grave(src=\"static/img/grave.svg\")\n          br\n          div.hidden-xs-down\n            img.grave(src=\"static/img/grave.svg\")\n            img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n            img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n            img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n            br\n\n            img.grave(src=\"static/img/grave.svg\")\n            img.grave(src=\"static/img/grave.svg\")\n            img.grave(src=\"static/img/grave.svg\")\n        .col-3.col-sm-2\n          img.pacman(:src=\"pacimg\")\n        img.grave(src=\"static/img/grave.svg\")\n        .col-sm-4\n      \n          img.grave(src=\"static/img/grave.svg\")\n          img.grave(src=\"static/img/grave.svg\")\n\n          img.grave(src=\"static/img/grave.svg\")\n          img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n          img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n          br\n\n          img.grave(src=\"static/img/grave.svg\")\n          br\n          img.grave(src=\"static/img/grave.svg\")\n          br\n          img.grave(src=\"static/img/grave.svg\")\n\n          br\n          br\n\n          img.grave(src=\"static/img/grave.svg\")\n\n\n    .sceneDoor.container-fluid(key=\"door\",v-if=\"gameScene=='door'\")\n      .row\n        .col-sm-12\n          br\n          br\n          br\n          h1 什麼！？ <br>真虧你能找到這\n          h2 下面的門就是了\n          br\n          h3 你尋覓著，給予跳脫框架者的舞台\n          h1 雜學校\n          h3 往下一起探索教育的面貌吧!\n      .coverBlue\n      img.pacman(:src=\"pacimg\")\n      img.door(src=\"static/img/Door.svg\")\n    .sceneDead.container-fluid(key=\"dead\", v-if=\"gameScene=='dead'\")\n      .row\n        .col-sm-6\n          img.pacmandead(src=\"static/img/Pacman/Dead.svg\")\n          br\n          h1 你在中華民國教育體制裡\n          h2 就這麼失敗了\n          h2 重頭來一遍？\n          \n        .col-sm-6\n          h5.pressprompt Press A\n            |  to Restart.\n</template>\n\n<script>\nimport PACMAN from '../pacman.js'\nimport {TweenMax, Power2, TimelineLite} from \"gsap\"\nimport $ from \"jquery\"\n\nwindow.PACMAN=PACMAN\n\nexport default {\n  name: 'hello',\n  data () {\n    return {\n      globalTime: 0,\n      pacMode: \"normal\",\n      gameScene: \"index\",\n      dialogContent: \"\",\n      dialogQuery: [],\n      dialogAvatar: \"static/img/Pacman/Normal.svg\",\n      dialogState: false,\n      graveTime: 0,\n      canPress: true,\n      lastKeycode: -1,\n      gameScore: 0,\n      pressRecords: [],\n      gameInited: false,\n      paclives: 2,\n      deadtime: 0\n    }\n  },\n  mounted(){\n    window.setScore = this.setScore\n    window.dialogCallback = this.dialogCallback\n    window.toSceneDead = this.toSceneDead\n    window.setlives = this.setlives\n    window.eatenPill = this.eatenPill\n    window.userCompleteLevel = this.userCompleteLevel\n    window.press = this.press\n\n    this.globalTime++\n    TweenMax.from(\".check\",1,{opacity: 0,scale: 2 ,bottom: \"-30px\"}).delay(1)\n    TweenMax.from(\".title\",2,{opacity: 0,bottom: \"-30px\"}).delay(1.5)\n    TweenMax.from(\".title2\",1,{opacity: 0,bottom: \"-30px\"}).delay(2)\n    TweenMax.from(\".start\",1,{opacity: 0,bottom: \"-30px\"}).delay(3)\n    TweenMax.from(\".prompt\",1,{opacity: 0 ,repeat:-1}).delay(4).repeat()\n    TweenMax.from(\".pacman\",1,{opacity: 0}).delay(5)\n    TweenMax.to(\".castle\",1,{top: \"0px\",scale: \"1.1\"}).delay(3)\n\n    let _this = this;\n    setInterval(()=>{\n      _this.globalTime++\n    },100)\n\n    $( \"body\" ).keydown((event)=> {\n      console.log(event.which)\n      let _this = this\n      let keyLeft = 37\n      if (_this.canPress || _this.lastKeycode!=event.which){\n        switch(event.which){\n          case 38: \n            _this.press(\"up\")\n            break;\n          case 40: \n            _this.press(\"down\")\n            break;\n          case 37: \n            _this.press(\"left\")\n            break;\n          case 39: \n            _this.press(\"right\")\n            break;\n          case 65: \n            _this.press(\"a\")\n            break;\n          case 66: \n            _this.press(\"b\")\n            break;\n          case 13: \n            _this.press(\"enter\")\n            break;\n        }\n        _this.canPress=false;\n        _this.lastKeycode=event.which;\n        setTimeout(()=>{\n          _this.canPress=true;\n        },400)\n      }\n\n    });\n  },\n  computed:{\n    pacimg(){\n      if (this.pacMode == \"eating\"){\n        return `static/img/Pacman/Eat${this.globalTime%3+1}.svg`\n      }\n      return \"static/img/Pacman/Normal.svg\"\n    }\n  },\n  methods: {\n    startGame(){\n      let _this = this\n      this.pacMode = \"eating\"\n      TweenMax.to(\".pacman\",2,{left: \"-250px\"})\n      TweenMax.to(\".pacman\",1,{opacity: 0}).delay(1)\n    \n      setTimeout(()=>{\n        _this.gameScene=\"game\"\n        _this.dialogAvatar=\"static/img/Pacman/Normal.svg\",\n        _this.dialogQuery.push(\"我是pacman 我是中華民國的學生\",\n          \"哇，今天是小學開學的日子，媽媽爸爸說我即將進入中華民國的教育迷宮，好興奮><。\",\n          \"媽媽說，只要拿到好分數，以後就會出人頭地，變成成功ㄉ人\",\n          \"所以我一定要拿到很多一百分！\"\n        )\n        _this.dialogQuery.push(()=>{\n          PACMAN.init(document.getElementById('pacman'),'static/');\n\n          if (_this.gameInited){\n\n            setTimeout(()=>{\n              PACMAN.startLevel();\n              console.log(\"start level\")\n            },500)\n            _this.closeDialog();\n          }else{\n            _this.gameInited=true\n            setTimeout(()=>{\n              PACMAN.startNewGame();\n              console.log(\"start game\")\n            },500)\n            _this.closeDialog();\n            \n          }\n\n        })\n        _this.popDialog()\n      },2000)\n    },\n    goGrave(){\n\n      if (this.graveTime==0){\n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Grandma.svg\",\n          content: \"乖孫啊你要往下去哪裡？乖乖在家讀書，不要出去亂晃，以後才會有出息，你爺爺會高興的\"\n        });\n        this.popDialog()\n      }else if (this.graveTime==1){\n        let _this = this\n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"下面什麼都沒有啊....\"\n        });\n        this.popDialog()\n      }else if (this.graveTime==2){\n        let _this = this\n        \n        this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"好可怕啦..好啦我下去看看....\"\n        }, ()=>{\n          _this.pacMode = \"eating\"\n          TweenMax.to(\".pacman\",0.5,{rotation: \"-90deg\"})\n          TweenMax.to(\".pacman\",3,{bottom: \"-300px\"}).delay(1)\n          _this.closeDialog()\n          setTimeout(()=>{\n            _this.gameScene=\"grave\"\n            _this.dialogQuery.push(\"好可怕...好多墓碑，都是曾經走過來這裡的....不要，媽媽跟我說只要跟大家一樣玩遊戲就會順利的，我們回去玩遊戲，好不好（害怕）\")\n            _this.dialogQuery.push(\"按上就可以回去ㄌ，遊戲在上面啊啊啊....\")\n            _this.graveTime=0\n            _this.popDialog()\n          },3000)\n        }\n        );\n        this.popDialog()\n        \n      \n      }\n        this.graveTime++\n      \n      \n    },\n    walkDownGrave(){\n\n      let _this = this\n      if (this.graveTime==0){\n        _this.dialogQuery.push(\"我不要繼續走下去喇QQQ\")\n        _this.dialogQuery.push(()=>{\n          TweenMax.to(\".pacman\",0,{scaleX: 1})\n          TweenMax.to(\".pacman\",2,{left: \"-100px\"}).delay(0)\n          TweenMax.to(\".pacman\",0,{scaleX: -1}).delay(2)\n          TweenMax.to(\".pacman\",2,{left: \"100px\"}).delay(2)\n          TweenMax.to(\".pacman\",0,{scaleX: 1}).delay(4)\n          TweenMax.to(\".pacman\",2,{left: \"0px\"}).delay(4)\n        })\n        _this.popDialog()\n      }else{\n        _this.dialogQuery.push(\"為什麼要繼續走下去QWQQQ\")\n        _this.dialogQuery.push(()=>{\n          _this.pacMode = \"eating\"\n          TweenMax.to(\".pacman\",0.5,{rotation: \"-90deg\"})\n          TweenMax.to(\".pacman\",5,{top: \"100%\"}).delay(1)\n          _this.changeScene(\"door\",5)\n          _this.closeDialog();\n          setTimeOut(()=>{\n            _this.dialogQuery.push({\n              avatar: \"static/img/Knight.svg\",\n              content: \"哇，居然找到這個地方，那你一定與眾不同\"\n            });\n            _this.popDialog()\n            this.graveTime=0\n          },6000)\n          \n        })\n        _this.popDialog()\n      }\n      this.graveTime++\n    },\n\n    walkBackGrave(){\n      let _this = this\n      _this.dialogQuery.push(\"嗚嗚我們回去了哦，不然走出體制太可怕了\")\n\n      _this.dialogQuery.push(()=>{\n        _this.pacMode = \"eating\"\n        TweenMax.to(\".pacman\",0.5,{rotation: \"90deg\"})\n        TweenMax.to(\".pacman\",2,{top: \"-500px\"}).delay(1)\n        _this.changeScene(\"index\",3)\n        _this.closeDialog();\n        setTimeOut(()=>{\n          _this.dialogQuery.push({\n            avatar: \"static/img/Grandma.svg\",\n            content: \"這才是我的乖孫啊！ 緊去讀冊哦\"\n          });\n          _this.popDialog()\n        },3000)\n        \n      })\n      _this.popDialog()\n    },\n\n    walkDownDoor(){\n      let _this = this\n      _this.dialogQuery.push(\"我們要前往雜學校募資頁啦!!\")\n\n      _this.dialogQuery.push(()=>{\n        _this.pacMode = \"eating\"\n        TweenMax.to(\".pacman\",5,{top: \"100%\"})\n        TweenMax.to(\".logo\",1,{opacity: 0}).delay(4)\n        TweenMax.to(\".gamePad\",1,{opacity: 0}).delay(4)\n\n        TweenMax.to(\".coverBlue\",1,{opacity: 1}).delay(4)\n        //_this.changeScene(\"empty\",5)\n        _this.closeDialog()\n        \n        setTimeout(function() {\n          window.location = \"http://zashare.org/funding\"\n        }, 5000);\n      })\n      _this.popDialog()\n    },\n\n    goSecret(){\n      let _this = this\n      _this.dialogQuery=[];\n      _this.dialogQuery.push(\"什麼！？你居然知道上上下下左左右右ABAB這招（不是嘲笑你年紀的意思)，那就直接帶你去募資頁囉！！\")\n      _this.dialogQuery.push(()=>{\n        _this.pacMode = \"eating\"\n        //TweenMax.to(\".pacman\",0.5,{rotation: \"-90deg\"})\n        //TweenMax.to(\".pacman\",5,{top: \"100%\"}).delay(1)\n        _this.changeScene(\"door\",5)\n        setTimeOut(()=>{\n          _this.dialogQuery.push({\n            avatar: \"static/img/Knight.svg\",\n            content: \"哇，居然找到這個地方，那你一定與眾不同\"\n          });\n          _this.popDialog()\n          this.graveTime=0\n        },500)\n        \n      })\n      _this.popDialog()\n    },\n    relife(){\n      let _this = this\n        _this.dialogQuery.push(\"讓我們重新開始吧... 讀書才有可能變成成功的人呢！\")\n\n        _this.dialogQuery.push(()=>{\n          _this.pacMode = \"eating\"\n         \n          _this.changeScene(\"index\",1)\n          _this.closeDialog();\n\n          TweenMax.to(\".pacmandead\",1,{left: \"-200px\",opacity: 0})\n          TweenMax.to(\"h1\",1,{opacity: 0}).delay(1)\n          TweenMax.to(\"h2\",1,{opacity: 0}).delay(1.5)\n          \n        })\n        _this.popDialog()\n    },\n    press(key){\n      if (this.gameScene==\"index\" && (key==\"left\" || key==\"a\") ){\n        this.startGame();\n      } \n      if (this.gameScene==\"index\" && (key==\"down\") ){\n        this.goGrave();\n      }\n      if (this.dialogState && (key==\"enter\" || key==\"a\" || key==\"right\")  ){\n        this.dailogAction();\n      }\n      if (this.gameScene==\"grave\" && !this.dialogState  && (key==\"down\")  ){\n        this.walkDownGrave();\n    }\n      if (this.gameScene==\"grave\" && !this.dialogState  && (key==\"up\")  ){\n        this.walkBackGrave();\n      }\n      if (this.gameScene==\"door\" && !this.dialogState  && (key==\"down\")  ){\n        this.walkDownDoor();\n      }\n      if (this.gameScene==\"dead\" && !this.dialogState  && (key==\"left\" || key==\"a\")  ){\n        this.relife();\n      }\n\n      if (this.gameScene==\"game\" && !this.dialogState  && (key==\"b\")  ){\n\n        this.changeScene(\"index\")\n      }\n      if (this.gameScene==\"game\" && !this.dialogState ){\n        let kmap = {\n          up: 3,\n          down: 1,\n          left: 2,\n          right: 11\n        }\n        PACMAN.sendkey(kmap[key])\n      }\n\n      this.pressRecords.push(key)\n      if (this.pressRecords.length>12){\n        this.pressRecords.shift();\n      }\n      if (this.pressRecords.join(\"/\")==[\"up\", \"up\", \"down\", \"down\", \"left\", \"left\", \"right\",'right','a','b','a','b'].join(\"/\")){\n        this.goSecret();\n      }\n      console.log(this.pressRecords)\n    },\n    dailogAction(){\n      if (this.dialogQuery.length>0){\n        let next = this.dialogQuery.shift()\n\n        if (typeof next ==\"string\"){\n          this.dialogContent=next\n        }else if (typeof next ==\"object\"){\n          this.dialogContent = next.content\n          this.dialogAvatar = next.avatar\n          \n        }else if (typeof next ==\"function\"){\n          next()\n        }\n        \n      }else{\n        this.dialogState = false\n      }\n    },\n    popDialog(){\n      this.dailogAction()\n      this.dialogState=true\n\n    },\n    closeDialog(){\n      this.dialogState=false\n    },\n    changeScene(scene,delay){\n      let _this = this;\n      setTimeout(()=>{\n        _this.gameScene = scene\n      },delay*1000)\n      \n    },\n    setScore(sc){\n      this.gameScore=sc\n    },\n    setlives(l){\n      this.paclives = l\n    },\n    eatenPill(text){\n      PACMAN.pauseGame()\n      this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Grandma.svg\",\n        content: text\n      });\n      this.dialogQuery.push(()=>{\n        this.closeDialog()\n        PACMAN.resumeGame()\n\n        var PLAYING = 7\n        PACMAN.setState(PLAYING)\n\n      })\n      this.popDialog()\n\n    },\n    dialogCallback(obj,callback=null){\n      this.dialogQuery.push(obj);\n      if (callback){\n        this.dialogQuery.push(()=>{\n          callback();\n        })\n      }\n      this.popDialog()\n\n    },\n    toSceneDead(deadtext){\n      let _this = this\n      _this.deadtime++\n\n      //第一次全部死亡 只有提示\n      //第二次全部死亡 直接說明\n\n      if (_this.deadtime==1){\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"糟糕 GG惹，連續兩次考不及格被退學了，回家一定被罵死\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"我這輩子都不可能出人投地了...\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: deadtext\n        });\n\n        _this.dialogQuery.push(()=>{\n          \n          _this.changeScene(\"dead\",0)\n          setTimeout(()=>{\n            TweenMax.from(\".pressrompt\",1,{opacity: 0 ,repeat:-1}).delay(4).repeat()\n          },500)\n          _this.closeDialog();\n          \n        })\n        _this.popDialog()\n      }else if (_this.deadtime>=2){\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"在中華民國教育的迷宮中，無止盡的求高分並沒有出口\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"我們在不斷的競爭與分數中，迷失了自我，你，還記得自己小時候的夢想嗎？\"\n        });\n        _this.dialogQuery.push({\n          avatar: \"static/img/Pacman/Normal.svg\",\n          content: \"讓我們，嘗試另一條路，從一開始就走出框架的路\"\n        });\n        _this.popDialog()\n\n        _this.dialogQuery.push(()=>{\n          \n          _this.changeScene(\"index\",0.5)\n                  \n        })\n        _this.dialogQuery.push({\n            avatar: \"static/img/Pacman/Normal.svg\",\n            content: \"我們回到了首頁，請一直按下，不要管阿嬤的阻止，也不要害怕\"\n          });    \n        _this.dialogQuery.push({\n            avatar: \"static/img/Pacman/Normal.svg\",\n            content: \"就可以看到教育的大門了\"\n        });    \n\n\n      }\n\n\n\n      \n    },\n    userCompleteLevel(){\n      let _this = this\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \"恭喜你 在中華民國教育迷宮裡面獲得順利，但是人生的成功真的是由分數定義的嗎？\"\n      });\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \" 要不要試試從一開始就走不同方向呢？<br>A 玩夠了，我要探索分數之外的可能性 | B 不管，我要繼續玩！！\"\n      });\n      _this.dialogQuery.push({\n        avatar: \"static/img/Pacman/Normal.svg\",\n        content: \" 要不要試試從一開始就走不同方向呢？<br><span onclick='window.press(\\\"a\\\")'> A 玩夠了，我要探索分數之外的可能性</span> | <span onclick='window.press(\\\"b\\\")'> B 不管，我要繼續玩！！</span>\"\n      });\n\n     \n\n      _this.popDialog();\n      \n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"sass\">\n\n$colorBlue: #0047BA\n$colorOrange: #FF4C00\n\n.fade-enter-active, .fade-leave-active\n  transition: opacity .5s\n\n.fade-enter, .fade-leave-to\n  opacity: 0\n\n\n\n.pacman\n  position: relative\n\n.rowIndex\n  height: 100vh\n\n.castle\n  width: 100%\n  max-width: 400px\n\n.prompt\n  font-weight: 900\n\n@media screen and (max-width: 600px)\n  .pacman\n    max-width: 15vw\n\n.sceneIndex\n  @media screen and (max-width: 600px)\n    .pacman\n      position: absolute\n      right: 5vw\n      bottom: 0\n      max-width: 15vw\n    .castle\n      left: 0\n      max-height: 20vh\n      width: initial\n    .rowIndex\n      height: initial\n      padding-top: 16vh\n      \n.sceneGame\n  @media screen and (max-width: 600px)\n    .col-sm-2\n      margin-top: 40px\n      font-size: 22px\n  .pacmanlive\n    width: 8vw \n    max-width: 50px\n    margin-right: 3vw\n    display: inline-block\n  \n  \n\n\n.sceneDoor\n  height: 100vh\n  .door\n    position: absolute\n    bottom: 0\n    left: 50%\n    transform: translate(-50%)\n    max-height: 35vh\n\n  .pacman\n    position: absolute\n    top: 0\n    left: 50%\n    transform: translate(-50%) rotate(-90deg)\n    max-width: 15vw\n    z-index: 10\n  .coverBlue\n    position: fixed\n    left: 0\n    top: 0\n    width: 100%\n    height: 100%\n    pointer-events: none\n    background-color: #123293\n    opacity: 0\n    z-index: 10\n\n.sceneDead\n  background-color: $colorOrange\n  position: fixed\n  left: 0\n  top: 0\n  width: 100%\n  height: 100%\n  display: flex\n  justify-content: center\n  align-items: center\n\n  .pacmandead\n    margin-bottom: 15px\n\n  @media screen and (max-width: 800px)\n    align-items: flex-start\n    padding-top: 20vh\n    \n\n.sceneGame\n  canvas\n    width: 100%\n    mix-blend-mode: multiply\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// Hello.vue?2afa12b2","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport {TweenMax, Power2, TimelineLite} from \"gsap\"\n//import Modernizr from 'modernizr'\n//window.Modernizr=Modernizr\n// import Bootstrap from 'bootstrap'\n// import jQuery from 'jquery'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/*jslint browser: true, undef: true, eqeqeq: true, nomen: true, white: true */\n/*global window: false, document: false */\n\nvar NONE = 4,\n    UP = 3,\n    LEFT = 2,\n    DOWN = 1,\n    RIGHT = 11,\n    WAITING = 5,\n    PAUSE = 6,\n    PLAYING = 7,\n    COUNTDOWN = 8,\n    EATEN_PAUSE = 9,\n    DYING = 10,\n    Pacman = {};\n\n\nvar colorOrange = \"#ff4c00\"\nvar colorBlue = \"#0047ba\"\nvar colorLightBlue = \"#00addc\"\nvar colorYellow = \"#fff36e\"\nvar colorGreen = \"#8ae872\"\nvar colorPurple = \"#c39bde\"\nvar colorPink = \"#ff7bd4\"\n\n\nPacman.FPS = 30;\n\nPacman.Ghost = function (game, map, colour) {\n\n    var position = null,\n        direction = null,\n        eatable = null,\n        eaten = null,\n        due = null;\n\n    function getNewCoord(dir, current) {\n\n        var speed = isVunerable() ? 1 : isHidden() ? 4 : 2,\n            xSpeed = (dir === LEFT && -speed || dir === RIGHT && speed || 0),\n            ySpeed = (dir === DOWN && speed || dir === UP && -speed || 0);\n\n        return {\n            \"x\": addBounded(current.x, xSpeed),\n            \"y\": addBounded(current.y, ySpeed)\n        };\n    };\n\n    /* Collision detection(walls) is done when a ghost lands on an\n     * exact block, make sure they dont skip over it \n     */\n    function addBounded(x1, x2) {\n        var rem = x1 % 10,\n            result = rem + x2;\n        if (rem !== 0 && result > 10) {\n            return x1 + (10 - rem);\n        } else if (rem > 0 && result < 0) {\n            return x1 - rem;\n        }\n        return x1 + x2;\n    };\n\n    function isVunerable() {\n        return eatable !== null;\n    };\n\n    function isDangerous() {\n        return eaten === null;\n    };\n\n    function isHidden() {\n        return eatable === null && eaten !== null;\n    };\n\n    function getRandomDirection() {\n        var moves = (direction === LEFT || direction === RIGHT)\n            ? [UP, DOWN] : [LEFT, RIGHT];\n        return moves[Math.floor(Math.random() * 2)];\n    };\n\n    function reset() {\n        eaten = null;\n        eatable = null;\n        position = { \"x\": 90, \"y\": 80 };\n        direction = getRandomDirection();\n        due = getRandomDirection();\n    };\n\n    function onWholeSquare(x) {\n        return x % 10 === 0;\n    };\n\n    function oppositeDirection(dir) {\n        return dir === LEFT && RIGHT ||\n            dir === RIGHT && LEFT ||\n            dir === UP && DOWN || UP;\n    };\n\n    function makeEatable() {\n        direction = oppositeDirection(direction);\n        eatable = game.getTick();\n    };\n\n    function eat() {\n        eatable = null;\n        eaten = game.getTick();\n    };\n\n    function pointToCoord(x) {\n        return Math.round(x / 10);\n    };\n\n    function nextSquare(x, dir) {\n        var rem = x % 10;\n        if (rem === 0) {\n            return x;\n        } else if (dir === RIGHT || dir === DOWN) {\n            return x + (10 - rem);\n        } else {\n            return x - rem;\n        }\n    };\n\n    function onGridSquare(pos) {\n        return onWholeSquare(pos.y) && onWholeSquare(pos.x);\n    };\n\n    function secondsAgo(tick) {\n        return (game.getTick() - tick) / Pacman.FPS;\n    };\n\n    function getColour() {\n        if (eatable) {\n            if (secondsAgo(eatable) > 5) {\n                return game.getTick() % 20 > 10 ? \"#FFFFFF\" : colorOrange;\n            } else {\n                return colorOrange;\n            }\n        } else if (eaten) {\n            return \"#222\";\n        }\n        return colour;\n    };\n\n    function draw(ctx) {\n\n        var s = map.blockSize,\n            top = (position.y / 10) * s,\n            left = (position.x / 10) * s;\n\n        if (eatable && secondsAgo(eatable) > 8) {\n            eatable = null;\n        }\n\n        if (eaten && secondsAgo(eaten) > 3) {\n            eaten = null;\n        }\n\n        var tl = left + s;\n        var base = top + s - 3;\n        var inc = s / 10;\n\n        var high = game.getTick() % 10 > 5 ? 3 : -3;\n        var low = game.getTick() % 10 > 5 ? -3 : 3;\n\n        ctx.fillStyle = getColour();\n        ctx.beginPath();\n\n        ctx.moveTo(left, base);\n\n        ctx.quadraticCurveTo(left, top, left + (s / 2), top);\n        ctx.quadraticCurveTo(left + s, top, left + s, base);\n\n        // Wavy things at the bottom\n        ctx.quadraticCurveTo(tl - (inc * 1), base + high, tl - (inc * 2), base);\n        ctx.quadraticCurveTo(tl - (inc * 3), base + low, tl - (inc * 4), base);\n        ctx.quadraticCurveTo(tl - (inc * 5), base + high, tl - (inc * 6), base);\n        ctx.quadraticCurveTo(tl - (inc * 7), base + low, tl - (inc * 8), base);\n        ctx.quadraticCurveTo(tl - (inc * 9), base + high, tl - (inc * 10), base);\n\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.beginPath();\n        ctx.fillStyle = \"#FFF\";\n        //left eye\n        ctx.arc(left + s / 2.5, top + s / 2, s / 8, 0, 300, false);\n        //right eye\n        ctx.arc((left + s) - s / 2.5, top + s / 2, s / 8, 0, 300, false);\n        ctx.closePath();\n        ctx.fill();\n\n        var f = s / 12;\n        var off = {};\n        off[RIGHT] = [f, 0];\n        off[LEFT] = [-f, 0];\n        off[UP] = [0, -f];\n        off[DOWN] = [0, f];\n\n        ctx.beginPath();\n        ctx.fillStyle = \"#000\";\n        ctx.arc(left + s / 2.5 + off[direction][0], top + s / 2 + off[direction][1],\n            s / 15, 0, 300, false);\n        ctx.arc((left + s) - s / 2.5 + off[direction][0], top + s / 2 + off[direction][1],\n            s / 15, 0, 300, false);\n        ctx.closePath();\n        ctx.fill();\n\n    };\n\n    function pane(pos) {\n\n        if (pos.y === 100 && pos.x >= 190 && direction === RIGHT) {\n            return { \"y\": 100, \"x\": -10 };\n        }\n\n        if (pos.y === 100 && pos.x <= -10 && direction === LEFT) {\n            return position = { \"y\": 100, \"x\": 190 };\n        }\n\n        return false;\n    };\n\n    function move(ctx) {\n\n        var oldPos = position,\n            onGrid = onGridSquare(position),\n            npos = null;\n\n        if (due !== direction) {\n\n            npos = getNewCoord(due, position);\n\n            if (onGrid &&\n                map.isFloorSpace({\n                    \"y\": pointToCoord(nextSquare(npos.y, due)),\n                    \"x\": pointToCoord(nextSquare(npos.x, due))\n                })) {\n                direction = due;\n            } else {\n                npos = null;\n            }\n        }\n\n        if (npos === null) {\n            npos = getNewCoord(direction, position);\n        }\n\n        if (onGrid &&\n            map.isWallSpace({\n                \"y\": pointToCoord(nextSquare(npos.y, direction)),\n                \"x\": pointToCoord(nextSquare(npos.x, direction))\n            })) {\n\n            due = getRandomDirection();\n            return move(ctx);\n        }\n\n        position = npos;\n\n        var tmp = pane(position);\n        if (tmp) {\n            position = tmp;\n        }\n\n        due = getRandomDirection();\n\n        return {\n            \"new\": position,\n            \"old\": oldPos\n        };\n    };\n\n    return {\n        \"eat\": eat,\n        \"isVunerable\": isVunerable,\n        \"isDangerous\": isDangerous,\n        \"makeEatable\": makeEatable,\n        \"reset\": reset,\n        \"move\": move,\n        \"draw\": draw\n    };\n};\n\nPacman.User = function (game, map) {\n\n    var position = null,\n        direction = null,\n        eaten = null,\n        due = null,\n        lives = null,\n        score = 5,\n        keyMap = {};\n\n    keyMap[KEY.ARROW_LEFT] = LEFT;\n    keyMap[KEY.ARROW_UP] = UP;\n    keyMap[KEY.ARROW_RIGHT] = RIGHT;\n    keyMap[KEY.ARROW_DOWN] = DOWN;\n\n    function addScore(nScore) {\n        score += nScore;\n        if (score >= 10000 && score - nScore < 10000) {\n            lives += 1;\n        }\n\n        //connect to Vue component\n        window.setScore(score)\n    };\n\n    function theScore() {\n        return score;\n    };\n\n    function loseLife() {\n        lives -= 1;\n    };\n\n    function getLives() {\n        window.setlives(lives);\n        return lives;\n    };\n\n    function initUser() {\n        score = 0;\n        lives = 2;\n        newLevel();\n    }\n\n    function newLevel() {\n        resetPosition();\n        eaten = 0;\n    };\n\n    function resetPosition() {\n        position = { \"x\": 90, \"y\": 120 };\n        direction = LEFT;\n        due = LEFT;\n    };\n\n    function reset() {\n        initUser();\n        resetPosition();\n    };\n\n    function setDue(d){\n        due=d\n    }\n\n    function keyDown(e) {\n        if (typeof keyMap[e.keyCode] !== \"undefined\") {\n            due = keyMap[e.keyCode];\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n        }\n        return true;\n    };\n\n    function getNewCoord(dir, current) {\n        return {\n            \"x\": current.x + (dir === LEFT && -2 || dir === RIGHT && 2 || 0),\n            \"y\": current.y + (dir === DOWN && 2 || dir === UP && -2 || 0)\n        };\n    };\n\n    function onWholeSquare(x) {\n        return x % 10 === 0;\n    };\n\n    function pointToCoord(x) {\n        return Math.round(x / 10);\n    };\n\n    function nextSquare(x, dir) {\n        var rem = x % 10;\n        if (rem === 0) {\n            return x;\n        } else if (dir === RIGHT || dir === DOWN) {\n            return x + (10 - rem);\n        } else {\n            return x - rem;\n        }\n    };\n\n    function next(pos, dir) {\n        return {\n            \"y\": pointToCoord(nextSquare(pos.y, dir)),\n            \"x\": pointToCoord(nextSquare(pos.x, dir)),\n        };\n    };\n\n    function onGridSquare(pos) {\n        return onWholeSquare(pos.y) && onWholeSquare(pos.x);\n    };\n\n    function isOnSamePlane(due, dir) {\n        return ((due === LEFT || due === RIGHT) &&\n            (dir === LEFT || dir === RIGHT)) ||\n            ((due === UP || due === DOWN) &&\n                (dir === UP || dir === DOWN));\n    };\n\n    function move(ctx) {\n\n        var npos = null,\n            nextWhole = null,\n            oldPosition = position,\n            block = null;\n\n        if (due !== direction) {\n            npos = getNewCoord(due, position);\n\n            if (isOnSamePlane(due, direction) ||\n                (onGridSquare(position) &&\n                    map.isFloorSpace(next(npos, due)))) {\n                direction = due;\n            } else {\n                npos = null;\n            }\n        }\n\n        if (npos === null) {\n            npos = getNewCoord(direction, position);\n        }\n\n        if (onGridSquare(position) && map.isWallSpace(next(npos, direction))) {\n            direction = NONE;\n        }\n\n        if (direction === NONE) {\n            return { \"new\": position, \"old\": position };\n        }\n\n        if (npos.y === 100 && npos.x >= 190 && direction === RIGHT) {\n            npos = { \"y\": 100, \"x\": -10 };\n        }\n\n        if (npos.y === 100 && npos.x <= -12 && direction === LEFT) {\n            npos = { \"y\": 100, \"x\": 190 };\n        }\n\n        position = npos;\n        nextWhole = next(position, direction);\n\n        block = map.block(nextWhole);\n\n        if ((isMidSquare(position.y) || isMidSquare(position.x)) &&\n            block === Pacman.BISCUIT || block === Pacman.PILL) {\n\n            map.setBlock(nextWhole, Pacman.EMPTY);\n            addScore((block === Pacman.BISCUIT) ? 10 : 50);\n            eaten += 1;\n\n            if (eaten === 182) {\n                game.completedLevel();\n            }\n\n            if (block === Pacman.PILL) {\n                game.eatenPill();\n            }\n        }\n\n        return {\n            \"new\": position,\n            \"old\": oldPosition\n        };\n    };\n\n    function isMidSquare(x) {\n        var rem = x % 10;\n        return rem > 3 || rem < 7;\n    };\n\n    function calcAngle(dir, pos) {\n        if (dir == RIGHT && (pos.x % 10 < 5)) {\n            return { \"start\": 0.25, \"end\": 1.75, \"direction\": false };\n        } else if (dir === DOWN && (pos.y % 10 < 5)) {\n            return { \"start\": 0.75, \"end\": 2.25, \"direction\": false };\n        } else if (dir === UP && (pos.y % 10 < 5)) {\n            return { \"start\": 1.25, \"end\": 1.75, \"direction\": true };\n        } else if (dir === LEFT && (pos.x % 10 < 5)) {\n            return { \"start\": 0.75, \"end\": 1.25, \"direction\": true };\n        }\n        return { \"start\": 0, \"end\": 2, \"direction\": false };\n    };\n\n    function drawDead(ctx, amount) {\n\n        var size = map.blockSize,\n            half = size / 2;\n\n        if (amount >= 1) {\n            return;\n        }\n\n        ctx.fillStyle = \"#FFFF00\";\n        ctx.beginPath();\n        ctx.moveTo(((position.x / 10) * size) + half,\n            ((position.y / 10) * size) + half);\n\n        ctx.arc(((position.x / 10) * size) + half,\n            ((position.y / 10) * size) + half,\n            half, 0, Math.PI * 2 * amount, true);\n\n        ctx.fill();\n    };\n\n    function draw(ctx) {\n\n        var s = map.blockSize,\n            angle = calcAngle(direction, position);\n\n        ctx.fillStyle = \"#FFFF00\";\n\n        ctx.beginPath();\n\n        ctx.moveTo(((position.x / 10) * s) + s / 2,\n            ((position.y / 10) * s) + s / 2);\n\n        ctx.arc(((position.x / 10) * s) + s / 2,\n            ((position.y / 10) * s) + s / 2,\n            s / 2, Math.PI * angle.start,\n            Math.PI * angle.end, angle.direction);\n\n        ctx.fill();\n    };\n\n    initUser();\n\n    return {\n        \"draw\": draw,\n        \"drawDead\": drawDead,\n        \"loseLife\": loseLife,\n        \"getLives\": getLives,\n        \"score\": score,\n        \"addScore\": addScore,\n        \"theScore\": theScore,\n        \"setDue\": setDue,\n        \"keyDown\": keyDown,\n        \"move\": move,\n        \"newLevel\": newLevel,\n        \"reset\": reset,\n        \"resetPosition\": resetPosition\n    };\n};\n\nPacman.Map = function (size) {\n\n    var height = null,\n        width = null,\n        blockSize = size,\n        pillSize = 0,\n        map = null;\n\n    function withinBounds(y, x) {\n        return y >= 0 && y < height && x >= 0 && x < width;\n    }\n\n    function isWall(pos) {\n        return withinBounds(pos.y, pos.x) && map[pos.y][pos.x] === Pacman.WALL;\n    }\n\n    function isFloorSpace(pos) {\n        if (!withinBounds(pos.y, pos.x)) {\n            return false;\n        }\n        var peice = map[pos.y][pos.x];\n        return peice === Pacman.EMPTY ||\n            peice === Pacman.BISCUIT ||\n            peice === Pacman.PILL;\n    }\n\n    function drawWall(ctx) {\n\n        var i, j, p, line;\n\n        ctx.strokeStyle = colorOrange;\n        ctx.lineWidth = blockSize/3;\n        ctx.lineCap = \"round\";\n\n        for (var i = 0; i < Pacman.WALLS.length; i += 1) {\n            line = Pacman.WALLS[i];\n            ctx.beginPath();\n\n            for (var j = 0; j < line.length; j += 1) {\n\n                p = line[j];\n\n                if (p.move) {\n                    ctx.moveTo(p.move[0] * blockSize, p.move[1] * blockSize);\n                } else if (p.line) {\n                    ctx.lineTo(p.line[0] * blockSize, p.line[1] * blockSize);\n                } else if (p.curve) {\n                    ctx.quadraticCurveTo(p.curve[0] * blockSize,\n                        p.curve[1] * blockSize,\n                        p.curve[2] * blockSize,\n                        p.curve[3] * blockSize);\n                }\n            }\n            ctx.stroke();\n        }\n    }\n\n    function reset() {\n        map = JSON.parse(JSON.stringify(Pacman.MAP));\n        height = map.length;\n        width = map[0].length;\n    };\n\n    function block(pos) {\n        return map[pos.y][pos.x];\n    };\n\n    function setBlock(pos, type) {\n        map[pos.y][pos.x] = type;\n    };\n\n    function drawPills(ctx) {\n\n        for (var i = 0; i < height; i += 1) {\n            for (var j = 0; j < width; j += 1) {\n                if (map[i][j] === Pacman.PILL) {\n                    ctx.beginPath();\n\n                    ctx.fillStyle = colorBlue;\n                    ctx.fillRect((j * blockSize), (i * blockSize),\n                        blockSize, blockSize);\n\n\n                    ctx.fillStyle = colorOrange;\n                    ctx.font = \"bold \"+blockSize/2+\"px Arial\";\n                    // ctx.arc((j * blockSize) + blockSize / 2,\n                    //         (i * blockSize) + blockSize / 2,\n                    //         5, \n                    //         0, \n                    //         Math.PI * 2, false); \n                    ctx.textAlign = \"center\";\n                    ctx.textBaseline = \"middle\";\n                    ctx.fillText(\"100\", (j * blockSize) + blockSize / 2,\n                        (i * blockSize) + blockSize / 2,\n                    );\n                    ctx.fill();\n                    ctx.closePath();\n                }\n            }\n        }\n    };\n\n    function draw(ctx) {\n\n        var i, j, size = blockSize;\n\n        ctx.fillStyle = colorBlue;\n        ctx.fillRect(0, 0, width * size, height * size);\n\n        drawWall(ctx);\n\n        for (var i = 0; i < height; i += 1) {\n            for (var j = 0; j < width; j += 1) {\n                drawBlock(i, j, ctx);\n            }\n        }\n    };\n\n    function drawBlock(y, x, ctx) {\n\n        var layout = map[y][x];\n\n        if (layout === Pacman.PILL) {\n            return;\n        }\n\n        ctx.beginPath();\n\n        if (layout === Pacman.EMPTY || layout === Pacman.BLOCK ||\n            layout === Pacman.BISCUIT) {\n\n            ctx.fillStyle = colorBlue;\n            ctx.fillRect((x * blockSize), (y * blockSize),\n                blockSize, blockSize);\n\n            if (layout === Pacman.BISCUIT) {\n                ctx.fillStyle = \"#FFF\";\n                ctx.font = \"1px Arial\";\n                // ctx.fillText(\"100\",\n                //             (x * blockSize) + (blockSize / 2.5), \n                //              (y * blockSize) + (blockSize / 2.5));\n\n                ctx.fillRect((x * blockSize) + (blockSize / 2.5),\n                    (y * blockSize) + (blockSize / 2.5),\n                    blockSize / 6, blockSize / 6);\n            }\n        }\n        ctx.closePath();\n    };\n\n    reset();\n\n    return {\n        \"draw\": draw,\n        \"drawBlock\": drawBlock,\n        \"drawPills\": drawPills,\n        \"block\": block,\n        \"setBlock\": setBlock,\n        \"reset\": reset,\n        \"isWallSpace\": isWall,\n        \"isFloorSpace\": isFloorSpace,\n        \"height\": height,\n        \"width\": width,\n        \"blockSize\": blockSize,\n    };\n};\n\nPacman.Audio = function (game) {\n\n    var files = [],\n        endEvents = [],\n        progressEvents = [],\n        playing = [];\n\n    function load(name, path, cb) {\n\n        var f = files[name] = document.createElement(\"audio\");\n\n        progressEvents[name] = function (event) { progress(event, name, cb); };\n\n        if (files[name] ){\n            f.addEventListener(\"canplaythrough\", progressEvents[name], true);\n            f.setAttribute(\"preload\", \"true\");\n            f.setAttribute(\"autobuffer\", \"true\");\n            f.setAttribute(\"src\", path);\n            f.pause();\n        }\n    };\n\n    function progress(event, name, callback) {\n        if (event.loaded === event.total && typeof callback === \"function\") {\n            callback();\n            if (files[name]){\n                files[name].removeEventListener(\"canplaythrough\",\n                    progressEvents[name], true);\n\n            }\n        }\n    };\n\n    function disableSound() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].pause();\n            files[playing[i]].currentTime = 0;\n        }\n        playing = [];\n    };\n\n    function ended(name) {\n\n        var i, tmp = [], found = false;\n\n        files[name].removeEventListener(\"ended\", endEvents[name], true);\n\n        for (var i = 0; i < playing.length; i++) {\n            if (!found && playing[i]) {\n                found = true;\n            } else {\n                tmp.push(playing[i]);\n            }\n        }\n        playing = tmp;\n    };\n\n    function play(name) {\n        console.log(\"audio trigger\");\n        if (files || files[name]){\n            if (!game.soundDisabled()) {\n                endEvents[name] = function () { ended(name); };\n                playing.push(name);\n                if (files[name]){\n                    files[name].addEventListener(\"ended\", endEvents[name], true);\n                    files[name].play();\n    \n                }\n            }\n\n        }\n    };\n\n    function pause() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].pause();\n        }\n    };\n\n    function resume() {\n        for (var i = 0; i < playing.length; i++) {\n            files[playing[i]].play();\n        }\n    };\n\n    return {\n        \"disableSound\": disableSound,\n        \"load\": load,\n        \"play\": play,\n        \"pause\": pause,\n        \"resume\": resume\n    };\n};\n\nvar PACMAN = (function () {\n\n    var state = WAITING,\n        audio = null,\n        ghosts = [],\n        ghostSpecs = [colorLightBlue, colorPink, colorPurple, colorGreen],\n        eatenCount = 0,\n        level = 0,\n        tick = 0,\n        ghostPos, userPos,\n        stateChanged = true,\n        timerStart = null,\n        lastTime = 0,\n        ctx = null,\n        timer = null,\n        map = null,\n        user = null,\n        stored = null;\n\n    function getTick() {\n        return tick;\n    };\n\n    function drawScore(text, position) {\n        ctx.fillStyle = \"#FFFFFF\";\n        ctx.font = \"12px BDCartoonShoutRegular\";\n        ctx.fillText(text,\n            (position[\"new\"][\"x\"] / 10) * map.blockSize,\n            ((position[\"new\"][\"y\"] + 5) / 10) * map.blockSize);\n    }\n\n    function dialog(text) {\n        ctx.fillStyle = \"#FFFFFF\";\n        ctx.font = map.blockSize+\" Arial\";\n        var width = ctx.measureText(text).width,\n            x = ((22 * map.blockSize) / 2 - width / 2);\n\n        ctx.fillText(text, x, ((map.height * 10) + 8) * 2);\n    }\n\n    function soundDisabled() {\n        return localStorage[\"soundDisabled\"] === \"true\";\n    };\n\n    function startLevel() {\n        user.resetPosition();\n        for (var i = 0; i < ghosts.length; i += 1) {\n            ghosts[i].reset();\n        }\n        audio.play(\"start\");\n        timerStart = tick;\n        setState(COUNTDOWN);\n    }\n\n    function startNewGame() {\n        setState(WAITING);\n        level = 1;\n        user.reset();\n        map.reset();\n        map.draw(ctx);\n        startLevel();\n    }\n\n    function resumeGame() {\n        //audio.resume();\n        map.draw(ctx);\n        setState(stored);\n    }\n\n    function pauseGame() {\n        stored = state;\n        setState(PAUSE);\n        \n        //audio.pause();\n        map.draw(ctx);\n        dialog(\"Paused\");\n    }\n\n    function Resume() {\n        //audio.resume();\n        map.draw(ctx);\n        setState(stored);\n    }\n\n    function keyDown(e) {\n        if (e.keyCode === KEY.N) {\n            startNewGame();\n        } else if (e.keyCode === KEY.S) {\n            audio.disableSound();\n            localStorage[\"soundDisabled\"] = !soundDisabled();\n        } else if (e.keyCode === KEY.P && state === PAUSE) {\n            audio.resume();\n            map.draw(ctx);\n            setState(stored);\n        } else if (e.keyCode === KEY.P) {\n            stored = state;\n            setState(PAUSE);\n            audio.pause();\n            map.draw(ctx);\n            dialog(\"Paused\");\n        } else if (state !== PAUSE) {\n            return user.keyDown(e);\n        }\n        return true;\n    }\n\n    //失去生命跟結束遊戲的判斷\n    function loseLife() {\n      \n        // if (Math.random() > 0.5) {\n        //     window.eatenPill(\n        //         \"怎麼又粗心，考試都拿不到好成績\",\n\n        //     )\n\n        // } else {\n        //     window.eatenPill(\n        //         \"阿媽對你好失望.... 人家隔壁的小明都考得比你好\",\n\n        //     )\n        // }\n        setState(WAITING)\n        user.loseLife();\n\n        if (user.getLives() == 1) {\n            window.eatenPill(\n                \"有些迷宮一但進去就走不出來，就像你的人生一樣…\",\n\n            )\n        }\n\n        if (user.getLives() > 0) {\n            startLevel();\n        } else {\n            window.toSceneDead(\"其實你從開始就應該試試看不同的方向\")\n        }\n    }\n\n    function setState(nState) {\n        state = nState;\n        stateChanged = true;\n    };\n\n    function collided(user, ghost) {\n        return (Math.sqrt(Math.pow(ghost.x - user.x, 2) +\n            Math.pow(ghost.y - user.y, 2))) < 10;\n    };\n\n    function drawFooter() {\n\n\n\n        // var topLeft  = (map.height * map.blockSize),\n        //     textBase = topLeft + 17;\n\n        // ctx.fillStyle = colorOrange;\n        // ctx.fillRect(0, topLeft, (map.width * map.blockSize), 30);\n\n        // ctx.fillStyle = \"#FFFF00\";\n\n        // for (var i = 0, len = user.getLives(); i < len; i++) {\n        //     ctx.fillStyle = \"#FFFF00\";\n        //     ctx.beginPath();\n        //     ctx.moveTo(150 + (25 * i) + map.blockSize / 2,\n        //                (topLeft+1) + map.blockSize / 2);\n\n        //     ctx.arc(150 + (25 * i) + map.blockSize / 2,\n        //             (topLeft+1) + map.blockSize / 2,\n        //             map.blockSize / 2, Math.PI * 0.25, Math.PI * 1.75, false);\n        //     ctx.fill();\n        // }\n\n        // ctx.fillStyle = !soundDisabled() ? \"#00FF00\" : \"#FF0000\";\n        // ctx.font = \"bold 16px sans-serif\";\n        // //ctx.fillText(\"♪\", 10, textBase);\n        // ctx.fillText(\"s\", 10, textBase);\n\n        // ctx.fillStyle = \"#FFFF00\";\n        // ctx.font      = \"14px BDCartoonShoutRegular\";\n        // ctx.fillText(\"Score: \" + user.theScore(), 30, textBase);\n        // ctx.fillText(\"Level: \" + level, 260, textBase);\n\n\n\n    }\n\n    function redrawBlock(pos) {\n        map.drawBlock(Math.floor(pos.y / 10), Math.floor(pos.x / 10), ctx);\n        map.drawBlock(Math.ceil(pos.y / 10), Math.ceil(pos.x / 10), ctx);\n    }\n\n    function mainDraw() {\n\n        var diff, u, i, len, nScore;\n\n        ghostPos = [];\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            ghostPos.push(ghosts[i].move(ctx));\n        }\n        u = user.move(ctx);\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            redrawBlock(ghostPos[i].old);\n        }\n        redrawBlock(u.old);\n\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            ghosts[i].draw(ctx);\n        }\n        user.draw(ctx);\n\n        userPos = u[\"new\"];\n\n        //被鬼碰到\n        for (var i = 0, len = ghosts.length; i < len; i += 1) {\n            if (collided(userPos, ghostPos[i][\"new\"])) {\n                if (ghosts[i].isVunerable()) {\n                    eatenCount += 1;\n                    nScore = eatenCount * 50;\n                    drawScore(nScore, ghostPos[i]);\n                    user.addScore(nScore);\n\n\n                    setState(EATEN_PAUSE);\n                    timerStart = tick;\n                    audio.play(\"eatghost\");\n                    ghosts[i].eat();\n                } else if (ghosts[i].isDangerous()) {\n                    setState(DYING);\n                    timerStart = tick;\n                    audio.play(\"die\");\n                }\n            }\n        }\n    };\n\n    //主要遊戲迴圈\n    function mainLoop() {\n        //console.log(\"l\")\n        var diff;\n\n        if (state !== PAUSE) {\n            ++tick;\n        }\n\n        map.drawPills(ctx);\n\n        if (state === PLAYING) {\n            mainDraw();\n        } else if (state === WAITING && stateChanged) {\n            stateChanged = false;\n            map.draw(ctx);\n            // dialog(\"Press N to start a New game\");            \n        } else if (state === EATEN_PAUSE &&\n            (tick - timerStart) > (Pacman.FPS / 3)) {\n            map.draw(ctx);\n            setState(PLAYING);\n        } else if (state === DYING) {\n            if (tick - timerStart > (Pacman.FPS * 2)) {\n                loseLife();\n            } else {\n                redrawBlock(userPos);\n                for (var i = 0, len = ghosts.length; i < len; i += 1) {\n                    redrawBlock(ghostPos[i].old);\n                    ghostPos.push(ghosts[i].draw(ctx));\n                }\n                user.drawDead(ctx, (tick - timerStart) * 2 / (Pacman.FPS * 2));\n            }\n        } else if (state === COUNTDOWN) {\n\n            diff = 5 + Math.floor((timerStart - tick) / Pacman.FPS);\n\n            if (diff === 0) {\n                map.draw(ctx);\n                setState(PLAYING);\n            } else {\n                if (diff !== lastTime) {\n                    lastTime = diff;\n                    map.draw(ctx);\n\n                    dialog(\"Starting in: \" + diff);\n                }\n            }\n        }\n\n        drawFooter();\n    }\n\n    function eatenPill() {\n        timerStart = tick;\n        eatenCount = 0;\n        for (var i = 0; i < ghosts.length; i += 1) {\n            ghosts[i].makeEatable(ctx);\n        }\n        if (Math.random() > 0.5) {\n\n            window.eatenPill(\n                \"乖孫啊你好棒，拿了100分一定會出人頭地的\")\n        } else {\n\n            window.eatenPill(\n                \"哇 100分，阿罵知道你最聽話了\");\n        }\n        audio.play(\"eatpill\");\n    };\n\n    function completedLevel() {\n        setState(WAITING);\n        level += 1;\n        map.reset();\n        user.newLevel();\n        startLevel();\n        window.userCompleteLevel()\n    };\n\n    function keyPress(e) {\n        if (state !== WAITING && state !== PAUSE) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n\n    function init(wrapper, root) {\n\n        wrapper.innerHTML=\"\"\n        // var scale = 2;\n        var i, len, ghost,\n            blockSize = wrapper.offsetWidth / 16,\n            canvas = document.createElement(\"canvas\");\n        \n        var ww = window.innerWidth;\n        \n        if (ww<700){\n            blockSize= ww/26\n        }\n\n        var wh = window.innerHeight;\n        var oriheight = (blockSize * 22);\n        var oriwidth = (blockSize * 22);\n        var ratio = ww / oriwidth;\n        var ratio2 = wh / oriheight;\n\n        var useRatio = ratio<ratio2?ratio:ratio2\n\n        canvas.setAttribute(\"width\", (blockSize * 19) * useRatio + \"px\");\n        canvas.setAttribute(\"height\", (blockSize * 22) * useRatio + \"px\");\n\n\n        wrapper.appendChild(canvas);\n\n        ctx = canvas.getContext('2d');\n        ctx.scale(useRatio, useRatio)\n\n        audio = new Pacman.Audio({ \"soundDisabled\": soundDisabled });\n        map = new Pacman.Map(blockSize);\n        user = new Pacman.User({\n            \"completedLevel\": completedLevel,\n            \"eatenPill\": eatenPill\n        }, map);\n\n        \n        ghosts=[]\n        for (var i = 0, len = ghostSpecs.length; i < len; i += 1) {\n            let ghost = new Pacman.Ghost({ \"getTick\": getTick }, map, ghostSpecs[i]);\n            ghosts.push(ghost);\n        }\n\n        map.draw(ctx);\n\n\n        // safari crash on mobile audio\n        loaded();\n\n\n\n\n        dialog(\"Loading ...\");\n\n        var extension = Modernizr.audio.ogg ? 'ogg' : 'mp3';\n\n        var audio_files = [\n            [\"start\", root + \"audio/opening_song.\" + extension],\n            [\"die\", root + \"audio/die.\" + extension],\n            [\"eatghost\", root + \"audio/eatghost.\" + extension],\n            [\"eatpill\", root + \"audio/eatpill.\" + extension],\n            [\"eating\", root + \"audio/eating.short.\" + extension],\n            [\"eating2\", root + \"audio/eating.short.\" + extension]\n        ];\n        \n        \n        load(audio_files, function () {  });\n        \n        console.log(\"init complete\")\n    };\n\n    function load(arr, callback) {\n\n        if (arr.length === 0) {\n            callback();\n        } else {\n            var x = arr.pop();\n            audio.load(x[0], x[1], function () { load(arr, callback); });\n        }\n    };\n\n    function loaded() {\n\n        // dialog(\"Press N to Start\");\n        timer = setInterval(mainLoop, 1000 / Pacman.FPS);\n        document.addEventListener(\"keydown\", keyDown, false);\n        document.addEventListener(\"keypress\", keyPress, false);\n\n      \n    };\n\n    return {\n        init,\n        startNewGame,\n        keyDown,\n        keyPress,\n        startLevel,\n        pauseGame,\n        resumeGame,\n        setState,\n        sendkey(k){\n            user.setDue(k)\n            console.log(\"pac receive key: \"+k)\n        }\n    };\n\n}());\n\n/* Human readable keyCode index */\nvar KEY = { 'BACKSPACE': 8, 'TAB': 9, 'NUM_PAD_CLEAR': 12, 'ENTER': 13, 'SHIFT': 16, 'CTRL': 17, 'ALT': 18, 'PAUSE': 19, 'CAPS_LOCK': 20, 'ESCAPE': 27, 'SPACEBAR': 32, 'PAGE_UP': 33, 'PAGE_DOWN': 34, 'END': 35, 'HOME': 36, 'ARROW_LEFT': 37, 'ARROW_UP': 38, 'ARROW_RIGHT': 39, 'ARROW_DOWN': 40, 'PRINT_SCREEN': 44, 'INSERT': 45, 'DELETE': 46, 'SEMICOLON': 59, 'WINDOWS_LEFT': 91, 'WINDOWS_RIGHT': 92, 'SELECT': 93, 'NUM_PAD_ASTERISK': 106, 'NUM_PAD_PLUS_SIGN': 107, 'NUM_PAD_HYPHEN-MINUS': 109, 'NUM_PAD_FULL_STOP': 110, 'NUM_PAD_SOLIDUS': 111, 'NUM_LOCK': 144, 'SCROLL_LOCK': 145, 'SEMICOLON': 186, 'EQUALS_SIGN': 187, 'COMMA': 188, 'HYPHEN-MINUS': 189, 'FULL_STOP': 190, 'SOLIDUS': 191, 'GRAVE_ACCENT': 192, 'LEFT_SQUARE_BRACKET': 219, 'REVERSE_SOLIDUS': 220, 'RIGHT_SQUARE_BRACKET': 221, 'APOSTROPHE': 222 };\n\n(function () {\n    /* 0 - 9 */\n    for (var i = 48; i <= 57; i++) {\n        KEY['' + (i - 48)] = i;\n    }\n    /* A - Z */\n    for (var i = 65; i <= 90; i++) {\n        KEY['' + String.fromCharCode(i)] = i;\n    }\n    /* NUM_PAD_0 - NUM_PAD_9 */\n    for (var i = 96; i <= 105; i++) {\n        KEY['NUM_PAD_' + (i - 96)] = i;\n    }\n    /* F1 - F12 */\n    for (var i = 112; i <= 123; i++) {\n        KEY['F' + (i - 112 + 1)] = i;\n    }\n})();\n\nPacman.WALL = 0;\nPacman.BISCUIT = 1;\nPacman.EMPTY = 2;\nPacman.BLOCK = 3;\nPacman.PILL = 4;\n\nPacman.MAP = [\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\n    [0, 4, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 4, 0],\n    [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0],\n    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\n    [0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0],\n    [0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0],\n    [0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0],\n    [2, 2, 2, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 2, 2, 2],\n    [0, 0, 0, 0, 1, 0, 1, 0, 0, 3, 0, 0, 1, 0, 1, 0, 0, 0, 0],\n    [2, 2, 2, 2, 1, 1, 1, 0, 3, 3, 3, 0, 1, 1, 1, 2, 2, 2, 2],\n    [0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0],\n    [2, 2, 2, 0, 1, 0, 1, 1, 1, 2, 1, 1, 1, 0, 1, 0, 2, 2, 2],\n    [0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0],\n    [0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0],\n    [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0],\n    [0, 4, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 4, 0],\n    [0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0],\n    [0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0],\n    [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0],\n    [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n];\n\nPacman.WALLS = [\n\n    [{ \"move\": [0, 9.5] }, { \"line\": [3, 9.5] },\n    { \"curve\": [3.5, 9.5, 3.5, 9] }, { \"line\": [3.5, 8] },\n    { \"curve\": [3.5, 7.5, 3, 7.5] }, { \"line\": [1, 7.5] },\n    { \"curve\": [0.5, 7.5, 0.5, 7] }, { \"line\": [0.5, 1] },\n    { \"curve\": [0.5, 0.5, 1, 0.5] }, { \"line\": [9, 0.5] },\n    { \"curve\": [9.5, 0.5, 9.5, 1] }, { \"line\": [9.5, 3.5] }],\n\n    [{ \"move\": [9.5, 1] },\n    { \"curve\": [9.5, 0.5, 10, 0.5] }, { \"line\": [18, 0.5] },\n    { \"curve\": [18.5, 0.5, 18.5, 1] }, { \"line\": [18.5, 7] },\n    { \"curve\": [18.5, 7.5, 18, 7.5] }, { \"line\": [16, 7.5] },\n    { \"curve\": [15.5, 7.5, 15.5, 8] }, { \"line\": [15.5, 9] },\n    { \"curve\": [15.5, 9.5, 16, 9.5] }, { \"line\": [19, 9.5] }],\n\n    [{ \"move\": [2.5, 5.5] }, { \"line\": [3.5, 5.5] }],\n\n    [{ \"move\": [3, 2.5] },\n    { \"curve\": [3.5, 2.5, 3.5, 3] },\n    { \"curve\": [3.5, 3.5, 3, 3.5] },\n    { \"curve\": [2.5, 3.5, 2.5, 3] },\n    { \"curve\": [2.5, 2.5, 3, 2.5] }],\n\n    [{ \"move\": [15.5, 5.5] }, { \"line\": [16.5, 5.5] }],\n\n    [{ \"move\": [16, 2.5] }, { \"curve\": [16.5, 2.5, 16.5, 3] },\n    { \"curve\": [16.5, 3.5, 16, 3.5] }, { \"curve\": [15.5, 3.5, 15.5, 3] },\n    { \"curve\": [15.5, 2.5, 16, 2.5] }],\n\n    [{ \"move\": [6, 2.5] }, { \"line\": [7, 2.5] }, { \"curve\": [7.5, 2.5, 7.5, 3] },\n    { \"curve\": [7.5, 3.5, 7, 3.5] }, { \"line\": [6, 3.5] },\n    { \"curve\": [5.5, 3.5, 5.5, 3] }, { \"curve\": [5.5, 2.5, 6, 2.5] }],\n\n    [{ \"move\": [12, 2.5] }, { \"line\": [13, 2.5] }, { \"curve\": [13.5, 2.5, 13.5, 3] },\n    { \"curve\": [13.5, 3.5, 13, 3.5] }, { \"line\": [12, 3.5] },\n    { \"curve\": [11.5, 3.5, 11.5, 3] }, { \"curve\": [11.5, 2.5, 12, 2.5] }],\n\n    [{ \"move\": [7.5, 5.5] }, { \"line\": [9, 5.5] }, { \"curve\": [9.5, 5.5, 9.5, 6] },\n    { \"line\": [9.5, 7.5] }],\n    [{ \"move\": [9.5, 6] }, { \"curve\": [9.5, 5.5, 10.5, 5.5] },\n    { \"line\": [11.5, 5.5] }],\n\n\n    [{ \"move\": [5.5, 5.5] }, { \"line\": [5.5, 7] }, { \"curve\": [5.5, 7.5, 6, 7.5] },\n    { \"line\": [7.5, 7.5] }],\n    [{ \"move\": [6, 7.5] }, { \"curve\": [5.5, 7.5, 5.5, 8] }, { \"line\": [5.5, 9.5] }],\n\n    [{ \"move\": [13.5, 5.5] }, { \"line\": [13.5, 7] },\n    { \"curve\": [13.5, 7.5, 13, 7.5] }, { \"line\": [11.5, 7.5] }],\n    [{ \"move\": [13, 7.5] }, { \"curve\": [13.5, 7.5, 13.5, 8] },\n    { \"line\": [13.5, 9.5] }],\n\n    [{ \"move\": [0, 11.5] }, { \"line\": [3, 11.5] }, { \"curve\": [3.5, 11.5, 3.5, 12] },\n    { \"line\": [3.5, 13] }, { \"curve\": [3.5, 13.5, 3, 13.5] }, { \"line\": [1, 13.5] },\n    { \"curve\": [0.5, 13.5, 0.5, 14] }, { \"line\": [0.5, 17] },\n    { \"curve\": [0.5, 17.5, 1, 17.5] }, { \"line\": [1.5, 17.5] }],\n    [{ \"move\": [1, 17.5] }, { \"curve\": [0.5, 17.5, 0.5, 18] }, { \"line\": [0.5, 21] },\n    { \"curve\": [0.5, 21.5, 1, 21.5] }, { \"line\": [18, 21.5] },\n    { \"curve\": [18.5, 21.5, 18.5, 21] }, { \"line\": [18.5, 18] },\n    { \"curve\": [18.5, 17.5, 18, 17.5] }, { \"line\": [17.5, 17.5] }],\n    [{ \"move\": [18, 17.5] }, { \"curve\": [18.5, 17.5, 18.5, 17] },\n    { \"line\": [18.5, 14] }, { \"curve\": [18.5, 13.5, 18, 13.5] },\n    { \"line\": [16, 13.5] }, { \"curve\": [15.5, 13.5, 15.5, 13] },\n    { \"line\": [15.5, 12] }, { \"curve\": [15.5, 11.5, 16, 11.5] },\n    { \"line\": [19, 11.5] }],\n\n    [{ \"move\": [5.5, 11.5] }, { \"line\": [5.5, 13.5] }],\n    [{ \"move\": [13.5, 11.5] }, { \"line\": [13.5, 13.5] }],\n\n    [{ \"move\": [2.5, 15.5] }, { \"line\": [3, 15.5] },\n    { \"curve\": [3.5, 15.5, 3.5, 16] }, { \"line\": [3.5, 17.5] }],\n    [{ \"move\": [16.5, 15.5] }, { \"line\": [16, 15.5] },\n    { \"curve\": [15.5, 15.5, 15.5, 16] }, { \"line\": [15.5, 17.5] }],\n\n    [{ \"move\": [5.5, 15.5] }, { \"line\": [7.5, 15.5] }],\n    [{ \"move\": [11.5, 15.5] }, { \"line\": [13.5, 15.5] }],\n\n    [{ \"move\": [2.5, 19.5] }, { \"line\": [5, 19.5] },\n    { \"curve\": [5.5, 19.5, 5.5, 19] }, { \"line\": [5.5, 17.5] }],\n    [{ \"move\": [5.5, 19] }, { \"curve\": [5.5, 19.5, 6, 19.5] },\n    { \"line\": [7.5, 19.5] }],\n\n    [{ \"move\": [11.5, 19.5] }, { \"line\": [13, 19.5] },\n    { \"curve\": [13.5, 19.5, 13.5, 19] }, { \"line\": [13.5, 17.5] }],\n    [{ \"move\": [13.5, 19] }, { \"curve\": [13.5, 19.5, 14, 19.5] },\n    { \"line\": [16.5, 19.5] }],\n\n    [{ \"move\": [7.5, 13.5] }, { \"line\": [9, 13.5] },\n    { \"curve\": [9.5, 13.5, 9.5, 14] }, { \"line\": [9.5, 15.5] }],\n    [{ \"move\": [9.5, 14] }, { \"curve\": [9.5, 13.5, 10, 13.5] },\n    { \"line\": [11.5, 13.5] }],\n\n    [{ \"move\": [7.5, 17.5] }, { \"line\": [9, 17.5] },\n    { \"curve\": [9.5, 17.5, 9.5, 18] }, { \"line\": [9.5, 19.5] }],\n    [{ \"move\": [9.5, 18] }, { \"curve\": [9.5, 17.5, 10, 17.5] },\n    { \"line\": [11.5, 17.5] }],\n\n    [{ \"move\": [8.5, 9.5] }, { \"line\": [8, 9.5] }, { \"curve\": [7.5, 9.5, 7.5, 10] },\n    { \"line\": [7.5, 11] }, { \"curve\": [7.5, 11.5, 8, 11.5] },\n    { \"line\": [11, 11.5] }, { \"curve\": [11.5, 11.5, 11.5, 11] },\n    { \"line\": [11.5, 10] }, { \"curve\": [11.5, 9.5, 11, 9.5] },\n    { \"line\": [10.5, 9.5] }]\n];\n\n/*\nObject.prototype.clone = function () {\n    var i, newObj = (this instanceof Array) ? [] : {};\n    for (var i in this) {\n        if (i === 'clone') {\n            continue;\n        }\n        if (this[i] && typeof this[i] === \"object\") {\n            newObj[i] = this[i].clone();\n        } else {\n            newObj[i] = this[i];\n        }\n    }\n    return newObj;\n};\n*/\n\n\nexport default PACMAN\n\n\n// WEBPACK FOOTER //\n// ./src/pacman.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e3487d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Hello.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Hello.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e3487d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Hello.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3e3487d8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Hello.vue\n// module id = 87\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container-fluid\",\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('img', {\n    staticClass: \"logo\",\n    attrs: {\n      \"src\": \"static/img/Header/Logo.svg\"\n    }\n  }), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-03066db6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 88\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"gameIndex\"\n  }, [_c('div', {\n    staticClass: \"gamePad\"\n  }, [_c('div', {\n    staticClass: \"direction\"\n  }, [_c('img', {\n    staticClass: \"up\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Up.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('up')\n      }\n    }\n  }), _c('div', {\n    staticClass: \"lr\"\n  }, [_c('img', {\n    staticClass: \"left\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Left.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('left')\n      }\n    }\n  }), _c('div', {\n    staticClass: \"cblock\"\n  }), _c('img', {\n    staticClass: \"right\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Right.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('right')\n      }\n    }\n  })]), _c('img', {\n    staticClass: \"down\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/Down.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('down')\n      }\n    }\n  })]), _c('div', {\n    staticClass: \"buttons\"\n  }, [_c('img', {\n    staticClass: \"a\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/A.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('a')\n      }\n    }\n  }), _c('img', {\n    staticClass: \"b\",\n    attrs: {\n      \"src\": \"static/img/GamePad/Button/B.svg\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.press('b')\n      }\n    }\n  })])]), _c('transition', {\n    attrs: {\n      \"name\": \"fade\"\n    }\n  }, [(_vm.dialogState) ? _c('div', {\n    staticClass: \"dialog row\"\n  }, [_c('div', {\n    staticClass: \"col-3 colAvator\"\n  }, [_c('img', {\n    staticClass: \"dialogAvatar\",\n    attrs: {\n      \"src\": _vm.dialogAvatar\n    }\n  })]), _c('div', {\n    staticClass: \"col-9 colContent\"\n  }, [_c('p', {\n    staticClass: \"content\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.dialogContent)\n    }\n  }), _c('img', {\n    staticClass: \"dailogAction\",\n    attrs: {\n      \"src\": \"static/img/Dialog/Action.svg\"\n    },\n    on: {\n      \"click\": _vm.dailogAction\n    }\n  })])]) : _vm._e()]), _c('transition-group', {\n    attrs: {\n      \"tag\": \"div\",\n      \"name\": \"fade\"\n    }\n  }, [(_vm.gameScene == 'index') ? _c('div', {\n    key: \"index\",\n    staticClass: \"sceneIndex container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row rowIndex\"\n  }, [_c('div', {\n    staticClass: \"col-sm-4 col-12 align-self-end order-sm-first offset-sm-0\"\n  }, [_c('img', {\n    staticClass: \"castle\",\n    attrs: {\n      \"src\": \"static/img/School.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacman hidden-sm-up\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })]), _c('div', {\n    staticClass: \"col-sm-8 align-self-center\"\n  }, [_c('h4', {\n    staticClass: \"row row_indexRightplace\"\n  }, [_c('div', {\n    staticClass: \"col-1\"\n  }, [_c('img', {\n    staticClass: \"check\",\n    attrs: {\n      \"src\": \"static/img/Check.svg\"\n    }\n  })]), _c('div', {\n    staticClass: \"col-10\"\n  }, [_c('p', {\n    staticClass: \"indexRightplaceText\"\n  }, [_c('span', {\n    staticClass: \"hidden-sm-down\"\n  }, [_vm._v(\"別懷疑，你沒來錯地方\"), _c('br'), _vm._v(\"但雜學校募資頁在哪呢？就要靠你自己拿到分數看到了\")]), _c('span', {\n    staticClass: \"hidden-sm-up\"\n  }, [_vm._v(\"你沒來錯地方\"), _c('br'), _vm._v(\"但雜學校募資頁\"), _c('br'), _vm._v(\"要靠拿高分才能找到（笑\")])])])]), _c('br'), _c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"聽說只要拿100分\")]), _c('h2', {\n    staticClass: \"title2\"\n  }, [_vm._v(\"人生就會一片光明呢\")]), _c('h3', {\n    staticClass: \"start\"\n  }, [_vm._v(\"往左開始進入中華民國教育迷宮\"), _c('br'), _vm._v(\"盡可能的拿到高分數炫耀吧！！\")]), _c('div', {\n    staticClass: \"prompt\"\n  }, [_vm._v(\"Press A or  \"), _c('img', {\n    staticStyle: {\n      \"transform\": \"rotate(180deg) scale(0.7)\"\n    },\n    attrs: {\n      \"src\": \"static/img/Dialog/Action.svg\"\n    }\n  }), _vm._v(\" to Start.\")]), _c('br'), _c('br'), _c('br'), _c('img', {\n    staticClass: \"pacman hidden-xs-down\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'game') ? _c('div', {\n    key: \"game\",\n    staticClass: \"sceneGame container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-2 colGameInfo order-sm-last\"\n  }, [_c('h2', [_vm._v(\"中華民國の教育迷宮\")]), _c('h3', [_vm._v(\"Score:\" + _vm._s(_vm.gameScore)), _c('br', {\n    staticClass: \"hidden-xs-down\"\n  }), _vm._l((_vm.paclives), function(l) {\n    return _c('img', {\n      staticClass: \"pacmanlive\",\n      attrs: {\n        \"src\": \"static/img/Pacman/Normal.svg\"\n      }\n    })\n  })], 2), _c('h4', {\n    staticClass: \"hidden-xs-down\"\n  }, [_vm._v(\"按B回到首頁\")])]), _c('div', {\n    staticClass: \"col-12 col-sm-10 order-sm-first-down\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"pacman\"\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'grave') ? _c('div', {\n    key: \"game\",\n    staticClass: \"sceneGrave container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-5 col-sm-7\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('div', {\n    staticClass: \"hidden-xs-down\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  })])]), _c('div', {\n    staticClass: \"col-3 col-sm-2\"\n  }, [_c('img', {\n    staticClass: \"pacman\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  })]), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('div', {\n    staticClass: \"col-sm-4\"\n  }, [_c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  }), _c('br'), _c('br'), _c('img', {\n    staticClass: \"grave\",\n    attrs: {\n      \"src\": \"static/img/grave.svg\"\n    }\n  })])])]) : _vm._e(), (_vm.gameScene == 'door') ? _c('div', {\n    key: \"door\",\n    staticClass: \"sceneDoor container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-12\"\n  }, [_c('br'), _c('br'), _c('br'), _c('h1', [_vm._v(\"什麼！？ \"), _c('br'), _vm._v(\"真虧你能找到這\")]), _c('h2', [_vm._v(\"下面的門就是了\")]), _c('br'), _c('h3', [_vm._v(\"你尋覓著，給予跳脫框架者的舞台\")]), _c('h1', [_vm._v(\"雜學校\")]), _c('h3', [_vm._v(\"往下一起探索教育的面貌吧!\")])])]), _c('div', {\n    staticClass: \"coverBlue\"\n  }), _c('img', {\n    staticClass: \"pacman\",\n    attrs: {\n      \"src\": _vm.pacimg\n    }\n  }), _c('img', {\n    staticClass: \"door\",\n    attrs: {\n      \"src\": \"static/img/Door.svg\"\n    }\n  })]) : _vm._e(), (_vm.gameScene == 'dead') ? _c('div', {\n    key: \"dead\",\n    staticClass: \"sceneDead container-fluid\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-6\"\n  }, [_c('img', {\n    staticClass: \"pacmandead\",\n    attrs: {\n      \"src\": \"static/img/Pacman/Dead.svg\"\n    }\n  }), _c('br'), _c('h1', [_vm._v(\"你在中華民國教育體制裡\")]), _c('h2', [_vm._v(\"就這麼失敗了\")]), _c('h2', [_vm._v(\"重頭來一遍？\")])]), _c('div', {\n    staticClass: \"col-sm-6\"\n  }, [_c('h5', {\n    staticClass: \"pressprompt\"\n  }, [_vm._v(\"Press A to Restart.\")])])])]) : _vm._e()])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e3487d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Hello.vue\n// module id = 89\n// module chunks = 1"],"sourceRoot":""}